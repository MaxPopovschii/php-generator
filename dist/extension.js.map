{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://php-generator-structure-web/./src/templates/TemplateManager.ts","webpack://php-generator-structure-web/./src/extension.ts","webpack://php-generator-structure-web/external commonjs \"vscode\"","webpack://php-generator-structure-web/./src/templates/mvp/MVPGenerator.ts","webpack://php-generator-structure-web/./src/generators/generator.ts","webpack://php-generator-structure-web/external node-commonjs \"fs\"","webpack://php-generator-structure-web/external node-commonjs \"path\"","webpack://php-generator-structure-web/./src/templates/mvc-advanced/MVCAdvancedGenerator.ts","webpack://php-generator-structure-web/webpack/bootstrap","webpack://php-generator-structure-web/webpack/startup"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\n\nexport interface TemplateConfig {\n    name: string;\n    description: string;\n    icon: string;\n    features: string[];\n    includes: string[];\n}\n\nexport class TemplateManager {\n    private static templates: Map<string, TemplateConfig> = new Map([\n        ['mvc-advanced', {\n            name: 'MVC Advanced',\n            description: 'Modern MVC with Routing, Middleware, Dependency Injection',\n            icon: 'üèóÔ∏è',\n            features: ['PSR-4 Autoloading', 'Route Management', 'Middleware Pipeline', 'Service Container'],\n            includes: ['Controllers', 'Models', 'Views', 'Routes', 'Middleware', 'Services', 'Config', 'Database']\n        }],\n        ['mvp', {\n            name: 'MVP (Model-View-Presenter)',\n            description: 'Separation of presentation logic from business logic',\n            icon: 'üéØ',\n            features: ['Passive View', 'Testable Presenters', 'Model Independence'],\n            includes: ['Models', 'Views', 'Presenters', 'Contracts', 'Services', 'Config']\n        }],\n        ['layered', {\n            name: 'Layered Architecture',\n            description: 'Domain-Driven Design with clean separation',\n            icon: 'üéÇ',\n            features: ['Domain Layer', 'Application Layer', 'Infrastructure Layer', 'Clean Architecture'],\n            includes: ['Domain', 'Application', 'Infrastructure', 'Presentation', 'Tests']\n        }],\n        ['rest-api', {\n            name: 'REST API',\n            description: 'Modern RESTful API with OpenAPI documentation',\n            icon: 'üåê',\n            features: ['OpenAPI 3.0', 'JWT Authentication', 'Rate Limiting', 'CORS', 'API Versioning'],\n            includes: ['Controllers', 'Models', 'Middleware', 'Routes', 'Documentation', 'Tests']\n        }],\n        ['microservices', {\n            name: 'Microservices',\n            description: 'Microservices architecture with service discovery',\n            icon: 'üî¨',\n            features: ['Service Isolation', 'API Gateway', 'Event Bus', 'Service Registry'],\n            includes: ['Services', 'Gateway', 'Events', 'Config', 'Docker', 'Tests']\n        }],\n        ['functional', {\n            name: 'Functional PHP',\n            description: 'Pure functional programming approach',\n            icon: '‚ö°',\n            features: ['Pure Functions', 'Immutability', 'Composition', 'No Side Effects'],\n            includes: ['Functions', 'Types', 'Utils', 'Config', 'Tests']\n        }]\n    ]);\n\n    static getTemplate(name: string): TemplateConfig | undefined {\n        return this.templates.get(name);\n    }\n\n    static getAllTemplates(): Array<[string, TemplateConfig]> {\n        return Array.from(this.templates.entries());\n    }\n\n    static getTemplateNames(): string[] {\n        return Array.from(this.templates.keys());\n    }\n}\n","import * as vscode from 'vscode';\nimport { TemplateManager } from './templates/TemplateManager';\nconst generatePhpStructure = require(\"./generators/generator\");\n\nexport function activate(context: vscode.ExtensionContext) {\n    const viewId = 'phpStructureView';\n\n    const view = vscode.window.createTreeView(viewId, {\n        treeDataProvider: new PhpStructureProvider(),\n        showCollapseAll: true\n    });\n\n    let disposable = vscode.commands.registerCommand('extension.generatePhpStructure', async () => {\n        const folders = vscode.workspace.workspaceFolders;\n        if (!folders) {\n            vscode.window.showErrorMessage('üö´ Open a project folder before generating the structure.');\n            return;\n        }\n\n        const projectRoot = folders[0].uri.fsPath;\n\n        // Get all available templates with nice icons\n        const templates = TemplateManager.getAllTemplates();\n        const templateOptions = templates.map(([key, config]) => ({\n            label: `${config.icon} ${config.name}`,\n            description: config.description,\n            detail: `‚ú® Features: ${config.features.join(', ')}`,\n            value: key\n        }));\n\n        const selectedTemplate = await vscode.window.showQuickPick(templateOptions, {\n            placeHolder: 'üé® Select the PHP architecture to generate',\n            matchOnDescription: true,\n            matchOnDetail: true\n        });\n\n        if (!selectedTemplate) {\n            vscode.window.showInformationMessage('‚ùå No architecture selected.');\n            return;\n        }\n\n        const type = selectedTemplate.value;\n\n        const entityName = await vscode.window.showInputBox({\n            placeHolder: 'üìù Enter the main entity name (e.g., User, Product, Order)',\n            prompt: 'Entity name will be used to generate files and classes',\n            validateInput: (value) => {\n                if (!value || !/^[A-Z][A-Za-z]*$/.test(value)) {\n                    return '‚ö†Ô∏è Entity name must start with uppercase and contain only letters';\n                }\n                return null;\n            }\n        });\n\n        if (!entityName) {\n            vscode.window.showErrorMessage('‚ùå Invalid entity name.');\n            return;\n        }\n\n        // Get template config\n        const templateConfig = TemplateManager.getTemplate(type);\n        if (!templateConfig) {\n            vscode.window.showErrorMessage('‚ùå Template configuration not found.');\n            return;\n        }\n\n        // Allow user to select components\n        const selected = await vscode.window.showQuickPick(templateConfig.includes, {\n            canPickMany: true,\n            placeHolder: `üì¶ Select components to generate (${templateConfig.name})`,\n            ignoreFocusOut: true\n        });\n\n        if (!selected || selected.length === 0) {\n            vscode.window.showInformationMessage('‚ùå No components selected. Operation cancelled.');\n            return;\n        }\n\n        // Additional options\n        const includeDocker = await vscode.window.showQuickPick(['Yes', 'No'], {\n            placeHolder: 'üê≥ Include Docker configuration?'\n        });\n\n        const includeTests = await vscode.window.showQuickPick(['Yes', 'No'], {\n            placeHolder: 'üß™ Include test files?'\n        });\n\n        const includeGitignore = await vscode.window.showQuickPick(['Yes', 'No'], {\n            placeHolder: 'üìÅ Include .gitignore?'\n        });\n\n        try {\n            const options = {\n                components: selected,\n                includeDocker: includeDocker === 'Yes',\n                includeTests: includeTests === 'Yes',\n                includeGitignore: includeGitignore === 'Yes'\n            };\n\n            generatePhpStructure(projectRoot, type, entityName, options);\n            \n            vscode.window.showInformationMessage(\n                `‚úÖ ${templateConfig.icon} ${templateConfig.name} structure for \"${entityName}\" generated successfully! üéâ`,\n                'Open Folder'\n            ).then(selection => {\n                if (selection === 'Open Folder') {\n                    vscode.commands.executeCommand('revealInExplorer', vscode.Uri.file(projectRoot));\n                }\n            });\n        } catch (err) {\n            const msg = err instanceof Error ? err.message : String(err);\n            vscode.window.showErrorMessage(`‚ùå Error generating structure: ${msg}`);\n        }\n    });\n\n    const generateButton = vscode.commands.registerCommand('phpStructure.generate', () => {\n        vscode.commands.executeCommand('extension.generatePhpStructure');\n    });\n\n    context.subscriptions.push(view);\n    context.subscriptions.push(disposable);\n    context.subscriptions.push(generateButton);\n}\n\nexport function deactivate() {}\n\nclass PhpStructureProvider implements vscode.TreeDataProvider<PhpStructureItem> {\n    private readonly _onDidChangeTreeData: vscode.EventEmitter<PhpStructureItem | undefined | null | void> = new vscode.EventEmitter<PhpStructureItem | undefined | null | void>();\n    readonly onDidChangeTreeData: vscode.Event<PhpStructureItem | undefined | null | void> = this._onDidChangeTreeData.event;\n\n    refresh(): void {\n        this._onDidChangeTreeData.fire();\n    }\n\n    getTreeItem(element: PhpStructureItem): vscode.TreeItem {\n        return element;\n    }\n\n    getChildren(element?: PhpStructureItem): Thenable<PhpStructureItem[]> {\n        if (element) {\n            return Promise.resolve([]);\n        } else {\n            return Promise.resolve([\n                new PhpStructureItem(\n                    'Generate WEB Application Structure',\n                    'Generate WEB Application Structure',\n                    vscode.TreeItemCollapsibleState.None,\n                    {\n                        command: 'extension.generatePhpStructure',\n                        title: 'Generate WEB Structure',\n                        arguments: []\n                    }\n                ),\n            ]);\n        }\n    }\n}\n\nclass PhpStructureItem extends vscode.TreeItem {\n    constructor(\n        public readonly label: string,\n        public readonly tooltip: string,\n        public readonly collapsibleState: vscode.TreeItemCollapsibleState,\n        public readonly command?: vscode.Command\n    ) {\n        super(label, collapsibleState);\n        this.tooltip = tooltip;\n    }\n}\n","module.exports = require(\"vscode\");","import { StructureGenerator } from '../StructureGenerator';\n\nexport class MVPGenerator implements StructureGenerator {\n    generate(rootPath: string, entityName: string, options: any): any {\n        const structure: any = {};\n        \n        // Models directory\n        structure['app'] = {\n            'Models': {\n                [`${entityName}Model.php`]: this.getModelTemplate(entityName),\n                'BaseModel.php': this.getBaseModelTemplate(),\n                [`${entityName}Repository.php`]: this.getRepositoryTemplate(entityName)\n            },\n            'Views': {\n                [`${entityName}View.php`]: this.getViewTemplate(entityName),\n                'BaseView.php': this.getBaseViewTemplate()\n            },\n            'Presenters': {\n                [`${entityName}Presenter.php`]: this.getPresenterTemplate(entityName),\n                'BasePresenter.php': this.getBasePresenterTemplate()\n            },\n            'Contracts': {\n                [`${entityName}ViewInterface.php`]: this.getViewInterfaceTemplate(entityName),\n                [`${entityName}PresenterInterface.php`]: this.getPresenterInterfaceTemplate(entityName)\n            },\n            'Services': {\n                [`${entityName}Service.php`]: this.getServiceTemplate(entityName)\n            },\n            'Templates': {\n                [entityName.toLowerCase()]: {\n                    'list.phtml': this.getListTemplate(entityName),\n                    'form.phtml': this.getFormTemplate(entityName),\n                    'detail.phtml': this.getDetailTemplate(entityName)\n                }\n            }\n        };\n\n        structure['config'] = {\n            'app.php': this.getAppConfigTemplate(),\n            'database.php': this.getDatabaseConfigTemplate()\n        };\n\n        structure['public'] = {\n            'index.php': this.getIndexTemplate(entityName)\n        };\n\n        structure['tests'] = {\n            'Presenters': {\n                [`${entityName}PresenterTest.php`]: this.getPresenterTestTemplate(entityName)\n            },\n            'Models': {\n                [`${entityName}ModelTest.php`]: this.getModelTestTemplate(entityName)\n            }\n        };\n\n        structure['composer.json'] = this.getComposerTemplate(entityName);\n        structure['README.md'] = this.getReadmeTemplate(entityName);\n\n        return structure;\n    }\n\n    private getModelTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Models;\n\nclass ${entityName}Model extends BaseModel\n{\n    private int $id;\n    private string $name;\n    private string $email;\n    private bool $status;\n    private ?string $createdAt;\n    private ?string $updatedAt;\n\n    public function __construct(array $data = [])\n    {\n        $this->id = $data['id'] ?? 0;\n        $this->name = $data['name'] ?? '';\n        $this->email = $data['email'] ?? '';\n        $this->status = $data['status'] ?? true;\n        $this->createdAt = $data['created_at'] ?? null;\n        $this->updatedAt = $data['updated_at'] ?? null;\n    }\n\n    // Getters\n    public function getId(): int\n    {\n        return $this->id;\n    }\n\n    public function getName(): string\n    {\n        return $this->name;\n    }\n\n    public function getEmail(): string\n    {\n        return $this->email;\n    }\n\n    public function getStatus(): bool\n    {\n        return $this->status;\n    }\n\n    public function getCreatedAt(): ?string\n    {\n        return $this->createdAt;\n    }\n\n    public function getUpdatedAt(): ?string\n    {\n        return $this->updatedAt;\n    }\n\n    // Setters\n    public function setName(string $name): void\n    {\n        $this->name = $name;\n    }\n\n    public function setEmail(string $email): void\n    {\n        $this->email = $email;\n    }\n\n    public function setStatus(bool $status): void\n    {\n        $this->status = $status;\n    }\n\n    // Validation\n    public function validate(): array\n    {\n        $errors = [];\n\n        if (empty($this->name)) {\n            $errors['name'] = 'Name is required';\n        }\n\n        if (empty($this->email)) {\n            $errors['email'] = 'Email is required';\n        } elseif (!filter_var($this->email, FILTER_VALIDATE_EMAIL)) {\n            $errors['email'] = 'Email must be valid';\n        }\n\n        return $errors;\n    }\n\n    public function toArray(): array\n    {\n        return [\n            'id' => $this->id,\n            'name' => $this->name,\n            'email' => $this->email,\n            'status' => $this->status,\n            'created_at' => $this->createdAt,\n            'updated_at' => $this->updatedAt\n        ];\n    }\n}\n`;\n    }\n\n    private getBaseModelTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Models;\n\nabstract class BaseModel\n{\n    abstract public function toArray(): array;\n    abstract public function validate(): array;\n}\n`;\n    }\n\n    private getRepositoryTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Models;\n\nuse PDO;\n\nclass ${entityName}Repository\n{\n    private PDO $db;\n\n    public function __construct(PDO $db)\n    {\n        $this->db = $db;\n    }\n\n    public function findAll(): array\n    {\n        $stmt = $this->db->query(\"SELECT * FROM ${entityName.toLowerCase()}s ORDER BY created_at DESC\");\n        $results = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        return array_map(fn($row) => new ${entityName}Model($row), $results);\n    }\n\n    public function findById(int $id): ?${entityName}Model\n    {\n        $stmt = $this->db->prepare(\"SELECT * FROM ${entityName.toLowerCase()}s WHERE id = ?\");\n        $stmt->execute([$id]);\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n        \n        return $row ? new ${entityName}Model($row) : null;\n    }\n\n    public function save(${entityName}Model $model): ${entityName}Model\n    {\n        if ($model->getId() > 0) {\n            return $this->update($model);\n        }\n        return $this->create($model);\n    }\n\n    private function create(${entityName}Model $model): ${entityName}Model\n    {\n        $stmt = $this->db->prepare(\"\n            INSERT INTO ${entityName.toLowerCase()}s (name, email, status, created_at, updated_at)\n            VALUES (?, ?, ?, NOW(), NOW())\n        \");\n        \n        $stmt->execute([\n            $model->getName(),\n            $model->getEmail(),\n            $model->getStatus() ? 1 : 0\n        ]);\n        \n        return $this->findById($this->db->lastInsertId());\n    }\n\n    private function update(${entityName}Model $model): ${entityName}Model\n    {\n        $stmt = $this->db->prepare(\"\n            UPDATE ${entityName.toLowerCase()}s \n            SET name = ?, email = ?, status = ?, updated_at = NOW()\n            WHERE id = ?\n        \");\n        \n        $stmt->execute([\n            $model->getName(),\n            $model->getEmail(),\n            $model->getStatus() ? 1 : 0,\n            $model->getId()\n        ]);\n        \n        return $this->findById($model->getId());\n    }\n\n    public function delete(int $id): bool\n    {\n        $stmt = $this->db->prepare(\"DELETE FROM ${entityName.toLowerCase()}s WHERE id = ?\");\n        return $stmt->execute([$id]);\n    }\n}\n`;\n    }\n\n    private getViewTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Views;\n\nuse App\\\\Contracts\\\\${entityName}ViewInterface;\n\nclass ${entityName}View extends BaseView implements ${entityName}ViewInterface\n{\n    public function showList(array $items): void\n    {\n        $this->render('${entityName.toLowerCase()}/list', ['items' => $items]);\n    }\n\n    public function showDetail(array $item): void\n    {\n        $this->render('${entityName.toLowerCase()}/detail', ['item' => $item]);\n    }\n\n    public function showForm(?array $item = null): void\n    {\n        $this->render('${entityName.toLowerCase()}/form', ['item' => $item]);\n    }\n\n    public function showErrors(array $errors): void\n    {\n        $this->render('errors', ['errors' => $errors]);\n    }\n\n    public function showSuccess(string $message): void\n    {\n        $this->render('success', ['message' => $message]);\n    }\n}\n`;\n    }\n\n    private getBaseViewTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Views;\n\nabstract class BaseView\n{\n    protected function render(string $template, array $data = []): void\n    {\n        extract($data);\n        $templatePath = __DIR__ . '/../Templates/' . $template . '.phtml';\n        \n        if (!file_exists($templatePath)) {\n            throw new \\\\Exception(\"Template not found: $template\");\n        }\n        \n        require $templatePath;\n    }\n\n    protected function escape(string $value): string\n    {\n        return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');\n    }\n}\n`;\n    }\n\n    private getPresenterTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Presenters;\n\nuse App\\\\Contracts\\\\${entityName}ViewInterface;\nuse App\\\\Contracts\\\\${entityName}PresenterInterface;\nuse App\\\\Models\\\\${entityName}Repository;\nuse App\\\\Services\\\\${entityName}Service;\n\nclass ${entityName}Presenter extends BasePresenter implements ${entityName}PresenterInterface\n{\n    private ${entityName}ViewInterface $view;\n    private ${entityName}Repository $repository;\n    private ${entityName}Service $service;\n\n    public function __construct(\n        ${entityName}ViewInterface $view,\n        ${entityName}Repository $repository,\n        ${entityName}Service $service\n    ) {\n        $this->view = $view;\n        $this->repository = $repository;\n        $this->service = $service;\n    }\n\n    public function showList(): void\n    {\n        try {\n            $models = $this->repository->findAll();\n            $items = array_map(fn($model) => $this->service->formatForDisplay($model), $models);\n            $this->view->showList($items);\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function showDetail(int $id): void\n    {\n        try {\n            $model = $this->repository->findById($id);\n            \n            if (!$model) {\n                $this->view->showErrors(['notFound' => '${entityName} not found']);\n                return;\n            }\n            \n            $item = $this->service->formatForDisplay($model);\n            $this->view->showDetail($item);\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function showCreateForm(): void\n    {\n        $this->view->showForm();\n    }\n\n    public function showEditForm(int $id): void\n    {\n        try {\n            $model = $this->repository->findById($id);\n            \n            if (!$model) {\n                $this->view->showErrors(['notFound' => '${entityName} not found']);\n                return;\n            }\n            \n            $this->view->showForm($model->toArray());\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function create(array $data): void\n    {\n        try {\n            $result = $this->service->create($data);\n            \n            if (isset($result['errors'])) {\n                $this->view->showErrors($result['errors']);\n                $this->view->showForm($data);\n                return;\n            }\n            \n            $this->view->showSuccess('${entityName} created successfully');\n            $this->showList();\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to create ${entityName.toLowerCase()}']);\n        }\n    }\n\n    public function update(int $id, array $data): void\n    {\n        try {\n            $result = $this->service->update($id, $data);\n            \n            if (isset($result['errors'])) {\n                $this->view->showErrors($result['errors']);\n                $this->view->showForm(array_merge(['id' => $id], $data));\n                return;\n            }\n            \n            $this->view->showSuccess('${entityName} updated successfully');\n            $this->showDetail($id);\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to update ${entityName.toLowerCase()}']);\n        }\n    }\n\n    public function delete(int $id): void\n    {\n        try {\n            $result = $this->service->delete($id);\n            \n            if (!$result) {\n                $this->view->showErrors(['notFound' => '${entityName} not found']);\n                return;\n            }\n            \n            $this->view->showSuccess('${entityName} deleted successfully');\n            $this->showList();\n        } catch (\\\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to delete ${entityName.toLowerCase()}']);\n        }\n    }\n}\n`;\n    }\n\n    private getBasePresenterTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Presenters;\n\nabstract class BasePresenter\n{\n    // Common presenter functionality\n}\n`;\n    }\n\n    private getViewInterfaceTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Contracts;\n\ninterface ${entityName}ViewInterface\n{\n    public function showList(array $items): void;\n    public function showDetail(array $item): void;\n    public function showForm(?array $item = null): void;\n    public function showErrors(array $errors): void;\n    public function showSuccess(string $message): void;\n}\n`;\n    }\n\n    private getPresenterInterfaceTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Contracts;\n\ninterface ${entityName}PresenterInterface\n{\n    public function showList(): void;\n    public function showDetail(int $id): void;\n    public function showCreateForm(): void;\n    public function showEditForm(int $id): void;\n    public function create(array $data): void;\n    public function update(int $id, array $data): void;\n    public function delete(int $id): void;\n}\n`;\n    }\n\n    private getServiceTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Services;\n\nuse App\\\\Models\\\\${entityName}Model;\nuse App\\\\Models\\\\${entityName}Repository;\n\nclass ${entityName}Service\n{\n    private ${entityName}Repository $repository;\n\n    public function __construct(${entityName}Repository $repository)\n    {\n        $this->repository = $repository;\n    }\n\n    public function formatForDisplay(${entityName}Model $model): array\n    {\n        $data = $model->toArray();\n        \n        // Additional formatting for display\n        $data['status_label'] = $model->getStatus() ? 'Active' : 'Inactive';\n        $data['created_at_formatted'] = $data['created_at'] ? \n            date('M d, Y', strtotime($data['created_at'])) : 'N/A';\n        \n        return $data;\n    }\n\n    public function create(array $data): array\n    {\n        $model = new ${entityName}Model($data);\n        $errors = $model->validate();\n        \n        if (!empty($errors)) {\n            return ['errors' => $errors];\n        }\n        \n        $saved = $this->repository->save($model);\n        return ['model' => $saved];\n    }\n\n    public function update(int $id, array $data): array\n    {\n        $model = $this->repository->findById($id);\n        \n        if (!$model) {\n            return ['errors' => ['notFound' => '${entityName} not found']];\n        }\n        \n        $model->setName($data['name'] ?? $model->getName());\n        $model->setEmail($data['email'] ?? $model->getEmail());\n        $model->setStatus($data['status'] ?? $model->getStatus());\n        \n        $errors = $model->validate();\n        \n        if (!empty($errors)) {\n            return ['errors' => $errors];\n        }\n        \n        $saved = $this->repository->save($model);\n        return ['model' => $saved];\n    }\n\n    public function delete(int $id): bool\n    {\n        return $this->repository->delete($id);\n    }\n}\n`;\n    }\n\n    private getListTemplate(entityName: string): string {\n        return `<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\\\$this->escape('${entityName} List') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        table { width: 100%; border-collapse: collapse; }\n        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }\n        th { background: #f5f5f5; }\n        .actions a { margin-right: 10px; }\n        .btn { padding: 8px 16px; text-decoration: none; background: #007bff; color: white; border-radius: 4px; }\n    </style>\n</head>\n<body>\n    <h1>${entityName} List</h1>\n    <a href=\"?action=create\" class=\"btn\">Create New ${entityName}</a>\n    \n    <table>\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Status</th>\n                <th>Created</th>\n                <th>Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            <?php foreach (\\\\$items as \\\\$item): ?>\n            <tr>\n                <td><?= \\\\$this->escape(\\\\$item['id']) ?></td>\n                <td><?= \\\\$this->escape(\\\\$item['name']) ?></td>\n                <td><?= \\\\$this->escape(\\\\$item['email']) ?></td>\n                <td><?= \\\\$this->escape(\\\\$item['status_label']) ?></td>\n                <td><?= \\\\$this->escape(\\\\$item['created_at_formatted']) ?></td>\n                <td class=\"actions\">\n                    <a href=\"?action=show&id=<?= \\\\$item['id'] ?>\">View</a>\n                    <a href=\"?action=edit&id=<?= \\\\$item['id'] ?>\">Edit</a>\n                    <a href=\"?action=delete&id=<?= \\\\$item['id'] ?>\" onclick=\"return confirm('Are you sure?')\">Delete</a>\n                </td>\n            </tr>\n            <?php endforeach; ?>\n        </tbody>\n    </table>\n</body>\n</html>\n`;\n    }\n\n    private getFormTemplate(entityName: string): string {\n        return `<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\\\$this->escape(isset(\\\\$item) ? 'Edit ${entityName}' : 'Create ${entityName}') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; max-width: 600px; }\n        .form-group { margin-bottom: 15px; }\n        label { display: block; margin-bottom: 5px; font-weight: bold; }\n        input[type=\"text\"], input[type=\"email\"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }\n        .btn { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }\n        .btn:hover { background: #0056b3; }\n    </style>\n</head>\n<body>\n    <h1><?= isset(\\\\$item) ? 'Edit ${entityName}' : 'Create ${entityName}' ?></h1>\n    \n    <form method=\"POST\" action=\"?action=<?= isset(\\\\$item) ? 'update&id=' . \\\\$item['id'] : 'store' ?>\">\n        <div class=\"form-group\">\n            <label for=\"name\">Name:</label>\n            <input type=\"text\" id=\"name\" name=\"name\" value=\"<?= \\\\$this->escape(\\\\$item['name'] ?? '') ?>\" required>\n        </div>\n        \n        <div class=\"form-group\">\n            <label for=\"email\">Email:</label>\n            <input type=\"email\" id=\"email\" name=\"email\" value=\"<?= \\\\$this->escape(\\\\$item['email'] ?? '') ?>\" required>\n        </div>\n        \n        <div class=\"form-group\">\n            <label>\n                <input type=\"checkbox\" name=\"status\" value=\"1\" <?= (\\\\$item['status'] ?? true) ? 'checked' : '' ?>>\n                Active\n            </label>\n        </div>\n        \n        <button type=\"submit\" class=\"btn\"><?= isset(\\\\$item) ? 'Update' : 'Create' ?></button>\n        <a href=\"?action=list\">Cancel</a>\n    </form>\n</body>\n</html>\n`;\n    }\n\n    private getDetailTemplate(entityName: string): string {\n        return `<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\\\$this->escape('${entityName} Details') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; max-width: 600px; }\n        .detail-row { padding: 10px 0; border-bottom: 1px solid #ddd; }\n        .detail-row strong { display: inline-block; width: 150px; }\n        .actions { margin-top: 20px; }\n        .btn { padding: 10px 20px; text-decoration: none; background: #007bff; color: white; border-radius: 4px; margin-right: 10px; }\n    </style>\n</head>\n<body>\n    <h1>${entityName} Details</h1>\n    \n    <div class=\"detail-row\">\n        <strong>ID:</strong>\n        <?= \\\\$this->escape(\\\\$item['id']) ?>\n    </div>\n    <div class=\"detail-row\">\n        <strong>Name:</strong>\n        <?= \\\\$this->escape(\\\\$item['name']) ?>\n    </div>\n    <div class=\"detail-row\">\n        <strong>Email:</strong>\n        <?= \\\\$this->escape(\\\\$item['email']) ?>\n    </div>\n    <div class=\"detail-row\">\n        <strong>Status:</strong>\n        <?= \\\\$this->escape(\\\\$item['status_label']) ?>\n    </div>\n    <div class=\"detail-row\">\n        <strong>Created:</strong>\n        <?= \\\\$this->escape(\\\\$item['created_at_formatted']) ?>\n    </div>\n    \n    <div class=\"actions\">\n        <a href=\"?action=edit&id=<?= \\\\$item['id'] ?>\" class=\"btn\">Edit</a>\n        <a href=\"?action=list\" class=\"btn\">Back to List</a>\n    </div>\n</body>\n</html>\n`;\n    }\n\n    private getAppConfigTemplate(): string {\n        return `<?php\n\nreturn [\n    'name' => 'PHP MVP Application',\n    'debug' => true,\n];\n`;\n    }\n\n    private getDatabaseConfigTemplate(): string {\n        return `<?php\n\nreturn [\n    'host' => 'localhost',\n    'database' => 'app_db',\n    'username' => 'root',\n    'password' => '',\n    'charset' => 'utf8mb4'\n];\n`;\n    }\n\n    private getIndexTemplate(entityName: string): string {\n        return `<?php\n\nrequire_once __DIR__ . '/../vendor/autoload.php';\n\nuse App\\\\Models\\\\${entityName}Repository;\nuse App\\\\Views\\\\${entityName}View;\nuse App\\\\Presenters\\\\${entityName}Presenter;\nuse App\\\\Services\\\\${entityName}Service;\n\n// Database connection\n$config = require __DIR__ . '/../config/database.php';\n$dsn = \"mysql:host={$config['host']};dbname={$config['database']};charset={$config['charset']}\";\n$pdo = new PDO($dsn, $config['username'], $config['password'], [\n    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC\n]);\n\n// Initialize MVP components\n$repository = new ${entityName}Repository($pdo);\n$view = new ${entityName}View();\n$service = new ${entityName}Service($repository);\n$presenter = new ${entityName}Presenter($view, $repository, $service);\n\n// Handle requests\n$action = $_GET['action'] ?? 'list';\n$id = $_GET['id'] ?? null;\n\nswitch ($action) {\n    case 'list':\n        $presenter->showList();\n        break;\n    \n    case 'show':\n        $presenter->showDetail((int)$id);\n        break;\n    \n    case 'create':\n        $presenter->showCreateForm();\n        break;\n    \n    case 'store':\n        $presenter->create($_POST);\n        break;\n    \n    case 'edit':\n        $presenter->showEditForm((int)$id);\n        break;\n    \n    case 'update':\n        $presenter->update((int)$id, $_POST);\n        break;\n    \n    case 'delete':\n        $presenter->delete((int)$id);\n        break;\n    \n    default:\n        $presenter->showList();\n}\n`;\n    }\n\n    private getPresenterTestTemplate(entityName: string): string {\n        return `<?php\n\nuse PHPUnit\\\\Framework\\\\TestCase;\nuse App\\\\Presenters\\\\${entityName}Presenter;\n\nclass ${entityName}PresenterTest extends TestCase\n{\n    public function testShowListCallsView()\n    {\n        // TODO: Implement test with mocks\n        $this->assertTrue(true);\n    }\n}\n`;\n    }\n\n    private getModelTestTemplate(entityName: string): string {\n        return `<?php\n\nuse PHPUnit\\\\Framework\\\\TestCase;\nuse App\\\\Models\\\\${entityName}Model;\n\nclass ${entityName}ModelTest extends TestCase\n{\n    public function testValidationFailsWithEmptyName()\n    {\n        $model = new ${entityName}Model(['name' => '', 'email' => 'test@example.com']);\n        $errors = $model->validate();\n        \n        $this->assertArrayHasKey('name', $errors);\n    }\n\n    public function testValidationFailsWithInvalidEmail()\n    {\n        $model = new ${entityName}Model(['name' => 'Test', 'email' => 'invalid']);\n        $errors = $model->validate();\n        \n        $this->assertArrayHasKey('email', $errors);\n    }\n}\n`;\n    }\n\n    private getComposerTemplate(entityName: string): string {\n        return `{\n    \"name\": \"app/mvp-${entityName.toLowerCase()}\",\n    \"description\": \"MVP Architecture for ${entityName}\",\n    \"type\": \"project\",\n    \"require\": {\n        \"php\": \"^8.0\"\n    },\n    \"require-dev\": {\n        \"phpunit/phpunit\": \"^9.0\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"App\\\\\\\\\": \"app/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Tests\\\\\\\\\": \"tests/\"\n        }\n    }\n}\n`;\n    }\n\n    private getReadmeTemplate(entityName: string): string {\n        return `# PHP MVP Application - ${entityName}\n\nMVP (Model-View-Presenter) architecture implementation.\n\n## Architecture\n\n- **Model**: Pure data objects with validation and business rules\n- **View**: Passive view that only displays data\n- **Presenter**: Contains presentation logic, mediates between Model and View\n\n## Features\n\n- ‚úÖ Testable presenters with dependency injection\n- üéØ Clear separation of concerns\n- üì¶ Repository pattern for data access\n- üîí Type-safe contracts (interfaces)\n\n## Installation\n\n\\`\\`\\`bash\ncomposer install\n\\`\\`\\`\n\nConfigure database in \\`config/database.php\\`.\n\n## Usage\n\nStart development server:\n\\`\\`\\`bash\nphp -S localhost:8000 -t public\n\\`\\`\\`\n\n## Testing\n\n\\`\\`\\`bash\ncomposer test\n\\`\\`\\`\n\n## MVP Pattern Benefits\n\n1. **Testability**: Presenter can be unit tested without views\n2. **Separation**: View is passive and knows nothing about Model\n3. **Reusability**: Same presenter can work with different views\n4. **Maintainability**: Clear responsibilities for each component\n\n## Project Structure\n\n\\`\\`\\`\napp/\n‚îú‚îÄ‚îÄ Models/           # Data models and repositories\n‚îú‚îÄ‚îÄ Views/            # View implementations\n‚îú‚îÄ‚îÄ Presenters/       # Presentation logic\n‚îú‚îÄ‚îÄ Contracts/        # Interfaces\n‚îú‚îÄ‚îÄ Services/         # Business logic services\n‚îî‚îÄ‚îÄ Templates/        # View templates\n\\`\\`\\`\n`;\n    }\n}\n","import * as fs from 'fs';\nimport * as path from 'path';\n\nfunction generatePhpStructure(rootPath: string, type: string, entityName: string, options?: any) {\n    let structure: { [key: string]: any } = {};\n\n    // Import and use the appropriate generator\n    try {\n        switch (type) {\n            case 'mvc-advanced':\n                const MVCAdvanced = require('../templates/mvc-advanced/MVCAdvancedGenerator');\n                const mvcGen = new MVCAdvanced.MVCAdvancedGenerator();\n                structure = mvcGen.generate(rootPath, entityName, options);\n                break;\n            \n            case 'mvp':\n                const MVP = require('../templates/mvp/MVPGenerator');\n                const mvpGen = new MVP.MVPGenerator();\n                structure = mvpGen.generate(rootPath, entityName, options);\n                break;\n            \n            case 'layered':\n            case 'rest-api':\n            case 'microservices':\n            case 'functional':\n                // Use legacy generator for these (will be upgraded)\n                structure = generateLegacyStructure(type, entityName, options);\n                break;\n            \n            default:\n                // Fallback to old logic\n                structure = generateLegacyStructure(type, entityName, options);\n        }\n    } catch (error) {\n        console.error('Error loading generator:', error);\n        // Fallback to legacy\n        structure = generateLegacyStructure(type, entityName, options);\n    }\n\n    // Add common files if requested\n    if (options?.includeDocker) {\n        structure['docker-compose.yml'] = getDockerComposeTemplate(entityName);\n        structure['Dockerfile'] = getDockerfileTemplate();\n        structure['.dockerignore'] = getDockerIgnoreTemplate();\n    }\n\n    if (options?.includeGitignore) {\n        structure['.gitignore'] = getGitIgnoreTemplate();\n    }\n\n    createStructure(rootPath, structure);\n}\n\nfunction generateLegacyStructure(type: string, entityName: string, options?: any): any {\n    const structure: { [key: string]: any } = {};\n    const sel = (name: string) => !options?.components || options.components.includes(name);\n\n    if (type === 'MVC') {\n        structure['app'] = {};\n        if (sel('Controller')) {\n            structure['app']['Controllers'] = {\n                [`${entityName}Controller.php`]: `<?php\nnamespace App\\\\Controllers;\nuse App\\\\Models\\\\${entityName};\n\nclass ${entityName}Controller {\n    public function index() {\n        echo json_encode(${entityName}::all());\n    }\n    public function show($id) {\n        echo json_encode(${entityName}::find($id));\n    }\n    public function store($data) {\n        $entity = new ${entityName}($data);\n        $entity->save();\n    }\n}\n?>`\n            };\n        }\n        if (sel('Model')) {\n            structure['app']['Models'] = {\n                [`${entityName}.php`]: `<?php\nnamespace App\\\\Models;\nclass ${entityName} {\n    public $id;\n    public $created_at;\n    public function __construct($data = []) {\n        foreach ($data as $key => $value) {\n            $this->$key = $value;\n        }\n    }\n    public static function all() {\n        return []; // Simulazione di una query\n    }\n    public static function find($id) {\n        return new self(['id' => $id]);\n    }\n    public function save() {\n        echo \"Salvataggio dell'oggetto\";\n    }\n}\n?>`\n            };\n        }\n        if (sel('View')) {\n            structure['app']['Views'] = {\n                [`${entityName}.php`]: `<!DOCTYPE html>\n<html>\n<head>\n    <title>${entityName} View</title>\n</head>\n<body>\n    <h1>Vista per ${entityName}</h1>\n</body>\n</html>`\n            };\n        }\n        if (sel('Routes')) {\n            structure['routes'] = {\n                'web.php': `<?php\nrequire '../app/Controllers/${entityName}Controller.php';\n$controller = new ${entityName}Controller();\n$controller->index();\n?>`\n            };\n        }\n    } else if (type === 'REST') {\n        structure['app'] = {\n            'Controllers': {\n                [`${entityName}Controller.php`]: `<?php\nnamespace App\\\\Controllers;\nuse App\\\\Models\\\\${entityName};\n\nclass ${entityName}Controller {\n    public function index() {\n        echo json_encode(${entityName}::all());\n    }\n}\n?>`\n            },\n            'Models': {\n                [`${entityName}.php`]: `<?php\nnamespace App\\\\Models;\nclass ${entityName} {\n    public static function all() {\n        return []; // Simulazione di una query\n    }\n}\n?>`\n            },\n            'Middlewares': {\n                'AuthMiddleware.php': `<?php\nnamespace App\\\\Middlewares;\nclass AuthMiddleware {\n    public function handle() {\n        echo \"Middleware di autenticazione\";\n    }\n}\n?>`\n            }\n        };\n        structure['routes'] = {\n            'api.php': `<?php\nrequire '../app/Controllers/${entityName}Controller.php';\nheader('Content-Type: application/json');\n$controller = new ${entityName}Controller();\n$controller->index();\n?>`\n        };\n    } else if (type === 'Functional') {\n        const entityLower = entityName.toLowerCase();\n        structure['src'] = {\n            [`${entityLower}_controller.php`]: `<?php\nrequire_once '${entityLower}_model.php';\n\nfunction get_all_${entityLower}s() {\n    \\$data = ${entityLower}_all();\n    echo json_encode(\\$data);\n}\n\nfunction create_${entityLower}(\\$data) {\n    ${entityLower}_save(\\$data);\n    echo \"Nuovo ${entityName} salvato!\";\n}\n?>`,\n            [`${entityLower}_model.php`]: `<?php\nfunction ${entityLower}_all() {\n    return []; // Simulazione di una query\n}\n\nfunction ${entityLower}_save(\\$data) {\n    // Simulazione di salvataggio\n    file_put_contents('data.txt', json_encode(\\$data) . PHP_EOL, FILE_APPEND);\n}\n?>`\n        };\n        structure['public'] = {\n            'index.php': `<?php\nrequire_once '../src/${entityLower}_controller.php';\nif (\\$_SERVER['REQUEST_METHOD'] === 'POST') {\n    create_${entityLower}(\\$_POST);\n} else {\n    get_all_${entityLower}s();\n}\n?>`,\n            [`create_${entityLower}.html`]: `<!DOCTYPE html>\n<html>\n<head>\n    <title>Crea ${entityName}</title>\n</head>\n<body>\n    <h1>Crea un nuovo ${entityName}</h1>\n    <form method=\"POST\" action=\"index.php\">\n        <label for=\"name\">Nome:</label>\n        <input type=\"text\" id=\"name\" name=\"name\" required>\n        <br>\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required>\n        <br>\n        <button type=\"submit\">Invia</button>\n    </form>\n</body>\n</html>`,\n            [`list_${entityLower}s.html`]: `<!DOCTYPE html>\n<html>\n<head>\n    <title>Lista ${entityName}s</title>\n</head>\n<body>\n    <h1>Elenco di ${entityName}s</h1>\n    <ul id=\"list\"></ul>\n\n    <script>\n        fetch('index.php')\n            .then(response => response.json())\n            .then(data => {\n                const list = document.getElementById('list');\n                data.forEach(item => {\n                    const li = document.createElement('li');\n                    li.textContent = JSON.stringify(item);\n                    list.appendChild(li);\n                });\n            });\n    </script>\n</body>\n</html>`\n        };\n    }\n\n    structure['config'] = {\n        'config.php': `<?php\nreturn [\n    'db' => [\n        'host' => 'localhost',\n        'database' => 'app_db',\n        'user' => 'root',\n        'password' => ''\n    ]\n];\n?>`\n    };\n\n    structure['composer.json'] = `{\n    \"autoload\": {\n        \"psr-4\": {\n            \"App\\\\\\\\\": \"app/\"\n        }\n    }\n}`;\n\n    return structure;\n}\n\n// Docker templates\nfunction getDockerComposeTemplate(entityName: string): string {\n    return `version: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:80\"\n    volumes:\n      - .:/var/www/html\n    depends_on:\n      - db\n    environment:\n      - DB_HOST=db\n      - DB_DATABASE=${entityName.toLowerCase()}_db\n      - DB_USERNAME=root\n      - DB_PASSWORD=secret\n\n  db:\n    image: mysql:8.0\n    ports:\n      - \"3306:3306\"\n    environment:\n      MYSQL_ROOT_PASSWORD: secret\n      MYSQL_DATABASE: ${entityName.toLowerCase()}_db\n    volumes:\n      - db_data:/var/lib/mysql\n\nvolumes:\n  db_data:\n`;\n}\n\nfunction getDockerfileTemplate(): string {\n    return `FROM php:8.2-apache\n\n# Install dependencies\nRUN apt-get update && apt-get install -y \\\\\n    git \\\\\n    curl \\\\\n    libpng-dev \\\\\n    libonig-dev \\\\\n    libxml2-dev \\\\\n    zip \\\\\n    unzip\n\n# Clear cache\nRUN apt-get clean && rm -rf /var/lib/apt/lists/*\n\n# Install PHP extensions\nRUN docker-php-ext-install pdo_mysql mbstring exif pcntl bcmath gd\n\n# Get Composer\nCOPY --from=composer:latest /usr/bin/composer /usr/bin/composer\n\n# Set working directory\nWORKDIR /var/www/html\n\n# Copy application files\nCOPY . /var/www/html\n\n# Install dependencies\nRUN composer install --no-interaction --optimize-autoloader\n\n# Enable Apache mod_rewrite\nRUN a2enmod rewrite\n\n# Set permissions\nRUN chown -R www-data:www-data /var/www/html\n\nEXPOSE 80\n`;\n}\n\nfunction getDockerIgnoreTemplate(): string {\n    return `vendor/\nnode_modules/\n.git\n.env\n*.log\n.DS_Store\n`;\n}\n\nfunction getGitIgnoreTemplate(): string {\n    return `/vendor/\n/node_modules/\n.env\n.env.local\n.env.*.local\n*.log\n.DS_Store\n.vscode/\n.idea/\ncomposer.lock\npackage-lock.json\n/public/storage\n/storage/*.key\n/database/*.sqlite\n`;\n}\n\n// Funzione placeholder per la richiesta di conferma sovrascrittura (da gestire lato extension)\nfunction askOverwriteSync(targetPath: string): boolean {\n    // Node.js non ha prompt sincrono, quindi per VS Code si dovrebbe gestire lato UI.\n    // Qui ritorniamo sempre true per compatibilit√†, ma il controllo reale va fatto lato extension.ts\n    return true;\n}\n\nfunction createStructure(basePath: string, structure: any, askOverwrite: (targetPath: string) => boolean = askOverwriteSync) {\n    for (const name in structure) {\n        const fullPath = path.join(basePath, name);\n        try {\n            if (typeof structure[name] === 'object') {\n                if (fs.existsSync(fullPath) && !fs.lstatSync(fullPath).isDirectory()) {\n                    if (!askOverwrite(fullPath)) continue;\n                }\n                fs.mkdirSync(fullPath, { recursive: true });\n                createStructure(fullPath, structure[name], askOverwrite);\n            } else {\n                if (fs.existsSync(fullPath)) {\n                    if (!askOverwrite(fullPath)) continue;\n                }\n                fs.writeFileSync(fullPath, structure[name]);\n            }\n        } catch (err) {\n            // eslint-disable-next-line no-console\n            console.error(`Errore nella creazione di ${fullPath}:`, err);\n            throw new Error(`Errore nella creazione di ${fullPath}: ${err instanceof Error ? err.message : String(err)}`);\n        }\n    }\n}\n\nmodule.exports = generatePhpStructure;\n","module.exports = require(\"fs\");","module.exports = require(\"path\");","import { StructureGenerator } from '../StructureGenerator';\n\nexport class MVCAdvancedGenerator implements StructureGenerator {\n    generate(rootPath: string, entityName: string, options: any): any {\n        const structure: any = {};\n        \n        // App directory\n        structure['app'] = {\n            'Controllers': {\n                [`${entityName}Controller.php`]: this.getControllerTemplate(entityName),\n                'BaseController.php': this.getBaseControllerTemplate()\n            },\n            'Models': {\n                [`${entityName}.php`]: this.getModelTemplate(entityName),\n                'BaseModel.php': this.getBaseModelTemplate()\n            },\n            'Views': {\n                [entityName.toLowerCase()]: {\n                    'index.php': this.getIndexViewTemplate(entityName),\n                    'create.php': this.getCreateViewTemplate(entityName),\n                    'edit.php': this.getEditViewTemplate(entityName),\n                    'show.php': this.getShowViewTemplate(entityName)\n                },\n                'layouts': {\n                    'app.php': this.getLayoutTemplate()\n                }\n            },\n            'Middleware': {\n                'AuthMiddleware.php': this.getAuthMiddlewareTemplate(),\n                'CorsMiddleware.php': this.getCorsMiddlewareTemplate(),\n                'ValidateMiddleware.php': this.getValidateMiddlewareTemplate()\n            },\n            'Services': {\n                [`${entityName}Service.php`]: this.getServiceTemplate(entityName),\n                'Container.php': this.getContainerTemplate()\n            },\n            'Validators': {\n                [`${entityName}Validator.php`]: this.getValidatorTemplate(entityName)\n            }\n        };\n\n        // Config directory\n        structure['config'] = {\n            'app.php': this.getAppConfigTemplate(),\n            'database.php': this.getDatabaseConfigTemplate(),\n            'routes.php': this.getRoutesTemplate(entityName)\n        };\n\n        // Database directory\n        structure['database'] = {\n            'migrations': {\n                [`${Date.now()}_create_${entityName.toLowerCase()}s_table.php`]: this.getMigrationTemplate(entityName)\n            },\n            'seeders': {\n                [`${entityName}Seeder.php`]: this.getSeederTemplate(entityName)\n            }\n        };\n\n        // Public directory\n        structure['public'] = {\n            'index.php': this.getPublicIndexTemplate(),\n            'assets': {\n                'css': {\n                    'app.css': this.getCssTemplate()\n                },\n                'js': {\n                    'app.js': this.getJsTemplate()\n                }\n            }\n        };\n\n        // Core directory\n        structure['core'] = {\n            'Router.php': this.getRouterTemplate(),\n            'Request.php': this.getRequestTemplate(),\n            'Response.php': this.getResponseTemplate(),\n            'Database.php': this.getDatabaseTemplate()\n        };\n\n        // Tests directory\n        structure['tests'] = {\n            [`${entityName}ControllerTest.php`]: this.getControllerTestTemplate(entityName)\n        };\n\n        // Root files\n        structure['composer.json'] = this.getComposerTemplate(entityName);\n        structure['.env.example'] = this.getEnvTemplate();\n        structure['.htaccess'] = this.getHtaccessTemplate();\n        structure['README.md'] = this.getReadmeTemplate(entityName);\n\n        return structure;\n    }\n\n    private getControllerTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Controllers;\n\nuse App\\\\Models\\\\${entityName};\nuse App\\\\Services\\\\${entityName}Service;\nuse App\\\\Validators\\\\${entityName}Validator;\nuse Core\\\\Request;\nuse Core\\\\Response;\n\nclass ${entityName}Controller extends BaseController\n{\n    private ${entityName}Service $service;\n    private ${entityName}Validator $validator;\n\n    public function __construct(${entityName}Service $service, ${entityName}Validator $validator)\n    {\n        $this->service = $service;\n        $this->validator = $validator;\n    }\n\n    /**\n     * Display a listing of the resource.\n     */\n    public function index(Request $request): Response\n    {\n        $${entityName.toLowerCase()}s = $this->service->getAll($request->query());\n        \n        if ($request->expectsJson()) {\n            return $this->json($${entityName.toLowerCase()}s);\n        }\n        \n        return $this->view('${entityName.toLowerCase()}/index', [\n            '${entityName.toLowerCase()}s' => $${entityName.toLowerCase()}s\n        ]);\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     */\n    public function create(): Response\n    {\n        return $this->view('${entityName.toLowerCase()}/create');\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(Request $request): Response\n    {\n        $data = $request->all();\n        \n        $errors = $this->validator->validate($data);\n        if ($errors) {\n            return $this->json(['errors' => $errors], 422);\n        }\n\n        $${entityName.toLowerCase()} = $this->service->create($data);\n        \n        if ($request->expectsJson()) {\n            return $this->json($${entityName.toLowerCase()}, 201);\n        }\n        \n        return $this->redirect('/${entityName.toLowerCase()}s');\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show(Request $request, int $id): Response\n    {\n        $${entityName.toLowerCase()} = $this->service->findById($id);\n        \n        if (!$${entityName.toLowerCase()}) {\n            return $this->json(['error' => '${entityName} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json($${entityName.toLowerCase()});\n        }\n        \n        return $this->view('${entityName.toLowerCase()}/show', [\n            '${entityName.toLowerCase()}' => $${entityName.toLowerCase()}\n        ]);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     */\n    public function edit(int $id): Response\n    {\n        $${entityName.toLowerCase()} = $this->service->findById($id);\n        \n        if (!$${entityName.toLowerCase()}) {\n            return $this->redirect('/${entityName.toLowerCase()}s');\n        }\n        \n        return $this->view('${entityName.toLowerCase()}/edit', [\n            '${entityName.toLowerCase()}' => $${entityName.toLowerCase()}\n        ]);\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(Request $request, int $id): Response\n    {\n        $data = $request->all();\n        \n        $errors = $this->validator->validate($data, $id);\n        if ($errors) {\n            return $this->json(['errors' => $errors], 422);\n        }\n\n        $${entityName.toLowerCase()} = $this->service->update($id, $data);\n        \n        if (!$${entityName.toLowerCase()}) {\n            return $this->json(['error' => '${entityName} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json($${entityName.toLowerCase()});\n        }\n        \n        return $this->redirect('/${entityName.toLowerCase()}s');\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(Request $request, int $id): Response\n    {\n        $deleted = $this->service->delete($id);\n        \n        if (!$deleted) {\n            return $this->json(['error' => '${entityName} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json(['message' => '${entityName} deleted successfully']);\n        }\n        \n        return $this->redirect('/${entityName.toLowerCase()}s');\n    }\n}\n`;\n    }\n\n    private getBaseControllerTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Controllers;\n\nuse Core\\\\Response;\n\nabstract class BaseController\n{\n    protected function view(string $view, array $data = []): Response\n    {\n        extract($data);\n        ob_start();\n        require __DIR__ . '/../Views/' . str_replace('.', '/', $view) . '.php';\n        $content = ob_get_clean();\n        \n        return new Response($content);\n    }\n\n    protected function json($data, int $statusCode = 200): Response\n    {\n        return new Response(\n            json_encode($data),\n            $statusCode,\n            ['Content-Type' => 'application/json']\n        );\n    }\n\n    protected function redirect(string $url, int $statusCode = 302): Response\n    {\n        return new Response('', $statusCode, ['Location' => $url]);\n    }\n}\n`;\n    }\n\n    private getModelTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Models;\n\nclass ${entityName} extends BaseModel\n{\n    protected string $table = '${entityName.toLowerCase()}s';\n    \n    protected array $fillable = [\n        'name',\n        'email',\n        'status'\n    ];\n\n    protected array $casts = [\n        'id' => 'int',\n        'status' => 'bool',\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime'\n    ];\n\n    // Relationships\n    \n    // Scopes\n    \n    // Accessors & Mutators\n}\n`;\n    }\n\n    private getBaseModelTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Models;\n\nuse Core\\\\Database;\nuse PDO;\n\nabstract class BaseModel\n{\n    protected string $table;\n    protected array $fillable = [];\n    protected array $casts = [];\n    protected Database $db;\n\n    public function __construct()\n    {\n        $this->db = Database::getInstance();\n    }\n\n    public function all(): array\n    {\n        $stmt = $this->db->prepare(\"SELECT * FROM {$this->table}\");\n        $stmt->execute();\n        return $stmt->fetchAll(PDO::FETCH_CLASS, static::class);\n    }\n\n    public function find(int $id): ?self\n    {\n        $stmt = $this->db->prepare(\"SELECT * FROM {$this->table} WHERE id = ?\");\n        $stmt->execute([$id]);\n        $result = $stmt->fetchObject(static::class);\n        return $result ?: null;\n    }\n\n    public function create(array $data): self\n    {\n        $data = $this->filterFillable($data);\n        $columns = implode(', ', array_keys($data));\n        $placeholders = implode(', ', array_fill(0, count($data), '?'));\n        \n        $sql = \"INSERT INTO {$this->table} ($columns) VALUES ($placeholders)\";\n        $stmt = $this->db->prepare($sql);\n        $stmt->execute(array_values($data));\n        \n        return $this->find($this->db->lastInsertId());\n    }\n\n    public function update(int $id, array $data): bool\n    {\n        $data = $this->filterFillable($data);\n        $set = implode(', ', array_map(fn($col) => \"$col = ?\", array_keys($data)));\n        \n        $sql = \"UPDATE {$this->table} SET $set WHERE id = ?\";\n        $stmt = $this->db->prepare($sql);\n        return $stmt->execute([...array_values($data), $id]);\n    }\n\n    public function delete(int $id): bool\n    {\n        $stmt = $this->db->prepare(\"DELETE FROM {$this->table} WHERE id = ?\");\n        return $stmt->execute([$id]);\n    }\n\n    protected function filterFillable(array $data): array\n    {\n        return array_filter(\n            $data,\n            fn($key) => in_array($key, $this->fillable),\n            ARRAY_FILTER_USE_KEY\n        );\n    }\n}\n`;\n    }\n\n    private getServiceTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Services;\n\nuse App\\\\Models\\\\${entityName};\n\nclass ${entityName}Service\n{\n    private ${entityName} $model;\n\n    public function __construct(${entityName} $model)\n    {\n        $this->model = $model;\n    }\n\n    public function getAll(array $filters = []): array\n    {\n        // Apply filters, pagination, sorting\n        return $this->model->all();\n    }\n\n    public function findById(int $id): ?${entityName}\n    {\n        return $this->model->find($id);\n    }\n\n    public function create(array $data): ${entityName}\n    {\n        // Business logic before creating\n        return $this->model->create($data);\n    }\n\n    public function update(int $id, array $data): ?${entityName}\n    {\n        $${entityName.toLowerCase()} = $this->findById($id);\n        if (!$${entityName.toLowerCase()}) {\n            return null;\n        }\n\n        $this->model->update($id, $data);\n        return $this->findById($id);\n    }\n\n    public function delete(int $id): bool\n    {\n        return $this->model->delete($id);\n    }\n}\n`;\n    }\n\n    private getValidatorTemplate(entityName: string): string {\n        return `<?php\n\nnamespace App\\\\Validators;\n\nclass ${entityName}Validator\n{\n    public function validate(array $data, ?int $id = null): array\n    {\n        $errors = [];\n\n        // Name validation\n        if (empty($data['name'])) {\n            $errors['name'] = 'Name is required';\n        } elseif (strlen($data['name']) < 3) {\n            $errors['name'] = 'Name must be at least 3 characters';\n        }\n\n        // Email validation\n        if (empty($data['email'])) {\n            $errors['email'] = 'Email is required';\n        } elseif (!filter_var($data['email'], FILTER_VALIDATE_EMAIL)) {\n            $errors['email'] = 'Email must be valid';\n        }\n\n        return $errors;\n    }\n}\n`;\n    }\n\n    private getAuthMiddlewareTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Middleware;\n\nuse Core\\\\Request;\nuse Core\\\\Response;\n\nclass AuthMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        // Check if user is authenticated\n        if (!isset($_SESSION['user_id'])) {\n            if ($request->expectsJson()) {\n                return new Response(\n                    json_encode(['error' => 'Unauthorized']),\n                    401,\n                    ['Content-Type' => 'application/json']\n                );\n            }\n            return new Response('', 302, ['Location' => '/login']);\n        }\n\n        return $next($request);\n    }\n}\n`;\n    }\n\n    private getCorsMiddlewareTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Middleware;\n\nuse Core\\\\Request;\nuse Core\\\\Response;\n\nclass CorsMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        $response = $next($request);\n        \n        $response->headers['Access-Control-Allow-Origin'] = '*';\n        $response->headers['Access-Control-Allow-Methods'] = 'GET, POST, PUT, DELETE, OPTIONS';\n        $response->headers['Access-Control-Allow-Headers'] = 'Content-Type, Authorization';\n\n        return $response;\n    }\n}\n`;\n    }\n\n    private getValidateMiddlewareTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Middleware;\n\nuse Core\\\\Request;\nuse Core\\\\Response;\n\nclass ValidateMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        // CSRF token validation\n        if (in_array($request->method(), ['POST', 'PUT', 'DELETE'])) {\n            $token = $request->input('csrf_token') ?? $request->header('X-CSRF-TOKEN');\n            if (!$this->validateCsrfToken($token)) {\n                return new Response(\n                    json_encode(['error' => 'Invalid CSRF token']),\n                    403,\n                    ['Content-Type' => 'application/json']\n                );\n            }\n        }\n\n        return $next($request);\n    }\n\n    private function validateCsrfToken(?string $token): bool\n    {\n        return isset($_SESSION['csrf_token']) && hash_equals($_SESSION['csrf_token'], $token ?? '');\n    }\n}\n`;\n    }\n\n    private getContainerTemplate(): string {\n        return `<?php\n\nnamespace App\\\\Services;\n\nclass Container\n{\n    private array $bindings = [];\n    private array $instances = [];\n\n    public function bind(string $abstract, callable $concrete): void\n    {\n        $this->bindings[$abstract] = $concrete;\n    }\n\n    public function singleton(string $abstract, callable $concrete): void\n    {\n        $this->bind($abstract, $concrete);\n        $this->instances[$abstract] = null;\n    }\n\n    public function make(string $abstract)\n    {\n        if (isset($this->instances[$abstract]) && $this->instances[$abstract] !== null) {\n            return $this->instances[$abstract];\n        }\n\n        if (isset($this->bindings[$abstract])) {\n            $instance = $this->bindings[$abstract]($this);\n            \n            if (array_key_exists($abstract, $this->instances)) {\n                $this->instances[$abstract] = $instance;\n            }\n            \n            return $instance;\n        }\n\n        return new $abstract();\n    }\n}\n`;\n    }\n\n    private getIndexViewTemplate(entityName: string): string {\n        const lower = entityName.toLowerCase();\n        return `<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class=\"container\">\n    <div class=\"header\">\n        <h1>${entityName} List</h1>\n        <a href=\"/${lower}s/create\" class=\"btn btn-primary\">Create New ${entityName}</a>\n    </div>\n\n    <table class=\"table\">\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Status</th>\n                <th>Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            <?php foreach ($${lower}s as $${lower}): ?>\n            <tr>\n                <td><?= htmlspecialchars($${lower}->id) ?></td>\n                <td><?= htmlspecialchars($${lower}->name) ?></td>\n                <td><?= htmlspecialchars($${lower}->email) ?></td>\n                <td><?= $${lower}->status ? 'Active' : 'Inactive' ?></td>\n                <td>\n                    <a href=\"/${lower}s/<?= $${lower}->id ?>\" class=\"btn btn-sm\">View</a>\n                    <a href=\"/${lower}s/<?= $${lower}->id ?>/edit\" class=\"btn btn-sm\">Edit</a>\n                    <form method=\"POST\" action=\"/${lower}s/<?= $${lower}->id ?>\" style=\"display:inline;\">\n                        <input type=\"hidden\" name=\"_method\" value=\"DELETE\">\n                        <button type=\"submit\" class=\"btn btn-sm btn-danger\" onclick=\"return confirm('Are you sure?')\">Delete</button>\n                    </form>\n                </td>\n            </tr>\n            <?php endforeach; ?>\n        </tbody>\n    </table>\n</div>\n`;\n    }\n\n    private getCreateViewTemplate(entityName: string): string {\n        const lower = entityName.toLowerCase();\n        return `<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class=\"container\">\n    <h1>Create ${entityName}</h1>\n\n    <form method=\"POST\" action=\"/${lower}s\" class=\"form\">\n        <div class=\"form-group\">\n            <label for=\"name\">Name</label>\n            <input type=\"text\" id=\"name\" name=\"name\" required>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" name=\"email\" required>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"status\">\n                <input type=\"checkbox\" id=\"status\" name=\"status\" value=\"1\">\n                Active\n            </label>\n        </div>\n\n        <div class=\"form-actions\">\n            <button type=\"submit\" class=\"btn btn-primary\">Create</button>\n            <a href=\"/${lower}s\" class=\"btn\">Cancel</a>\n        </div>\n    </form>\n</div>\n`;\n    }\n\n    private getEditViewTemplate(entityName: string): string {\n        const lower = entityName.toLowerCase();\n        return `<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class=\"container\">\n    <h1>Edit ${entityName}</h1>\n\n    <form method=\"POST\" action=\"/${lower}s/<?= $${lower}->id ?>\" class=\"form\">\n        <input type=\"hidden\" name=\"_method\" value=\"PUT\">\n        \n        <div class=\"form-group\">\n            <label for=\"name\">Name</label>\n            <input type=\"text\" id=\"name\" name=\"name\" value=\"<?= htmlspecialchars($${lower}->name) ?>\" required>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"email\">Email</label>\n            <input type=\"email\" id=\"email\" name=\"email\" value=\"<?= htmlspecialchars($${lower}->email) ?>\" required>\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"status\">\n                <input type=\"checkbox\" id=\"status\" name=\"status\" value=\"1\" <?= $${lower}->status ? 'checked' : '' ?>>\n                Active\n            </label>\n        </div>\n\n        <div class=\"form-actions\">\n            <button type=\"submit\" class=\"btn btn-primary\">Update</button>\n            <a href=\"/${lower}s\" class=\"btn\">Cancel</a>\n        </div>\n    </form>\n</div>\n`;\n    }\n\n    private getShowViewTemplate(entityName: string): string {\n        const lower = entityName.toLowerCase();\n        return `<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class=\"container\">\n    <h1>${entityName} Details</h1>\n\n    <div class=\"card\">\n        <div class=\"card-row\">\n            <strong>ID:</strong>\n            <span><?= htmlspecialchars($${lower}->id) ?></span>\n        </div>\n        <div class=\"card-row\">\n            <strong>Name:</strong>\n            <span><?= htmlspecialchars($${lower}->name) ?></span>\n        </div>\n        <div class=\"card-row\">\n            <strong>Email:</strong>\n            <span><?= htmlspecialchars($${lower}->email) ?></span>\n        </div>\n        <div class=\"card-row\">\n            <strong>Status:</strong>\n            <span><?= $${lower}->status ? 'Active' : 'Inactive' ?></span>\n        </div>\n        <div class=\"card-row\">\n            <strong>Created:</strong>\n            <span><?= htmlspecialchars($${lower}->created_at) ?></span>\n        </div>\n    </div>\n\n    <div class=\"form-actions\">\n        <a href=\"/${lower}s/<?= $${lower}->id ?>/edit\" class=\"btn btn-primary\">Edit</a>\n        <a href=\"/${lower}s\" class=\"btn\">Back to List</a>\n    </div>\n</div>\n`;\n    }\n\n    private getLayoutTemplate(): string {\n        return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>PHP MVC Application</title>\n    <link rel=\"stylesheet\" href=\"/assets/css/app.css\">\n</head>\n<body>\n    <nav class=\"navbar\">\n        <div class=\"container\">\n            <a href=\"/\" class=\"navbar-brand\">PHP MVC App</a>\n            <ul class=\"navbar-nav\">\n                <li><a href=\"/\">Home</a></li>\n                <li><a href=\"/about\">About</a></li>\n            </ul>\n        </div>\n    </nav>\n\n    <main>\n        <?php echo $content ?? ''; ?>\n    </main>\n\n    <footer>\n        <div class=\"container\">\n            <p>&copy; <?= date('Y') ?> PHP MVC Application. All rights reserved.</p>\n        </div>\n    </footer>\n\n    <script src=\"/assets/js/app.js\"></script>\n</body>\n</html>\n`;\n    }\n\n    private getAppConfigTemplate(): string {\n        return `<?php\n\nreturn [\n    'name' => getenv('APP_NAME') ?: 'PHP MVC App',\n    'env' => getenv('APP_ENV') ?: 'development',\n    'debug' => getenv('APP_DEBUG') === 'true',\n    'url' => getenv('APP_URL') ?: 'http://localhost',\n    'timezone' => 'UTC',\n];\n`;\n    }\n\n    private getDatabaseConfigTemplate(): string {\n        return `<?php\n\nreturn [\n    'default' => getenv('DB_CONNECTION') ?: 'mysql',\n    \n    'connections' => [\n        'mysql' => [\n            'driver' => 'mysql',\n            'host' => getenv('DB_HOST') ?: 'localhost',\n            'port' => getenv('DB_PORT') ?: '3306',\n            'database' => getenv('DB_DATABASE') ?: 'app_db',\n            'username' => getenv('DB_USERNAME') ?: 'root',\n            'password' => getenv('DB_PASSWORD') ?: '',\n            'charset' => 'utf8mb4',\n            'collation' => 'utf8mb4_unicode_ci',\n        ],\n    ],\n];\n`;\n    }\n\n    private getRoutesTemplate(entityName: string): string {\n        const lower = entityName.toLowerCase();\n        return `<?php\n\nuse Core\\\\Router;\nuse App\\\\Controllers\\\\${entityName}Controller;\nuse App\\\\Middleware\\\\AuthMiddleware;\nuse App\\\\Middleware\\\\CorsMiddleware;\n\n$router = new Router();\n\n// Apply global middleware\n$router->middleware(new CorsMiddleware());\n\n// ${entityName} routes\n$router->get('/${lower}s', [${entityName}Controller::class, 'index']);\n$router->get('/${lower}s/create', [${entityName}Controller::class, 'create']);\n$router->post('/${lower}s', [${entityName}Controller::class, 'store']);\n$router->get('/${lower}s/{id}', [${entityName}Controller::class, 'show']);\n$router->get('/${lower}s/{id}/edit', [${entityName}Controller::class, 'edit']);\n$router->put('/${lower}s/{id}', [${entityName}Controller::class, 'update']);\n$router->delete('/${lower}s/{id}', [${entityName}Controller::class, 'destroy']);\n\n// API routes with authentication\n$router->group(['prefix' => 'api', 'middleware' => AuthMiddleware::class], function($router) {\n    $router->get('/${lower}s', [${entityName}Controller::class, 'index']);\n    $router->post('/${lower}s', [${entityName}Controller::class, 'store']);\n    $router->get('/${lower}s/{id}', [${entityName}Controller::class, 'show']);\n    $router->put('/${lower}s/{id}', [${entityName}Controller::class, 'update']);\n    $router->delete('/${lower}s/{id}', [${entityName}Controller::class, 'destroy']);\n});\n\nreturn $router;\n`;\n    }\n\n    private getMigrationTemplate(entityName: string): string {\n        const table = `${entityName.toLowerCase()}s`;\n        return `<?php\n\nuse Core\\\\Database;\n\nclass Create${entityName}sTable\n{\n    public function up(): void\n    {\n        $db = Database::getInstance();\n        $sql = \"\n            CREATE TABLE IF NOT EXISTS ${table} (\n                id INT AUTO_INCREMENT PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL UNIQUE,\n                status BOOLEAN DEFAULT true,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n            ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n        \";\n        $db->exec($sql);\n    }\n\n    public function down(): void\n    {\n        $db = Database::getInstance();\n        $db->exec(\"DROP TABLE IF EXISTS ${table}\");\n    }\n}\n\n// Run migration\n$migration = new Create${entityName}sTable();\n$migration->up();\necho \"${entityName}s table created successfully!\\\\n\";\n`;\n    }\n\n    private getSeederTemplate(entityName: string): string {\n        return `<?php\n\nuse App\\\\Models\\\\${entityName};\n\nclass ${entityName}Seeder\n{\n    public function run(): void\n    {\n        $model = new ${entityName}();\n        \n        $data = [\n            ['name' => 'John Doe', 'email' => 'john@example.com', 'status' => true],\n            ['name' => 'Jane Smith', 'email' => 'jane@example.com', 'status' => true],\n            ['name' => 'Bob Wilson', 'email' => 'bob@example.com', 'status' => false],\n        ];\n\n        foreach ($data as $item) {\n            $model->create($item);\n        }\n        \n        echo \"${entityName} seeded successfully!\\\\n\";\n    }\n}\n\n// Run seeder\n$seeder = new ${entityName}Seeder();\n$seeder->run();\n`;\n    }\n\n    private getPublicIndexTemplate(): string {\n        return `<?php\n\nsession_start();\n\nrequire_once __DIR__ . '/../vendor/autoload.php';\n\n// Load environment variables\nif (file_exists(__DIR__ . '/../.env')) {\n    $lines = file(__DIR__ . '/../.env', FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);\n    foreach ($lines as $line) {\n        if (strpos(trim($line), '#') === 0) continue;\n        list($name, $value) = explode('=', $line, 2);\n        putenv(sprintf('%s=%s', trim($name), trim($value)));\n    }\n}\n\n// Load configuration\n$appConfig = require __DIR__ . '/../config/app.php';\n\n// Error reporting\nif ($appConfig['debug']) {\n    error_reporting(E_ALL);\n    ini_set('display_errors', '1');\n} else {\n    error_reporting(0);\n    ini_set('display_errors', '0');\n}\n\n// Initialize router\n$router = require __DIR__ . '/../config/routes.php';\n\n// Dispatch request\nuse Core\\\\Request;\n\n$request = Request::createFromGlobals();\n$response = $router->dispatch($request);\n$response->send();\n`;\n    }\n\n    private getCssTemplate(): string {\n        return `* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n    line-height: 1.6;\n    color: #333;\n    background: #f5f5f5;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.navbar {\n    background: #2c3e50;\n    color: white;\n    padding: 1rem 0;\n    margin-bottom: 2rem;\n}\n\n.navbar-brand {\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: white;\n    text-decoration: none;\n}\n\n.navbar-nav {\n    list-style: none;\n    display: flex;\n    gap: 1rem;\n}\n\n.navbar-nav a {\n    color: white;\n    text-decoration: none;\n}\n\n.btn {\n    display: inline-block;\n    padding: 0.5rem 1rem;\n    background: #3498db;\n    color: white;\n    text-decoration: none;\n    border-radius: 4px;\n    border: none;\n    cursor: pointer;\n}\n\n.btn-primary {\n    background: #2ecc71;\n}\n\n.btn-danger {\n    background: #e74c3c;\n}\n\n.table {\n    width: 100%;\n    background: white;\n    border-collapse: collapse;\n    margin: 1rem 0;\n}\n\n.table th,\n.table td {\n    padding: 0.75rem;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n}\n\n.table th {\n    background: #f8f9fa;\n    font-weight: bold;\n}\n\n.form {\n    background: white;\n    padding: 2rem;\n    border-radius: 8px;\n    max-width: 600px;\n}\n\n.form-group {\n    margin-bottom: 1rem;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n}\n\n.form-group input[type=\"text\"],\n.form-group input[type=\"email\"] {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n.form-actions {\n    margin-top: 1.5rem;\n    display: flex;\n    gap: 0.5rem;\n}\n\n.card {\n    background: white;\n    padding: 1.5rem;\n    border-radius: 8px;\n    margin: 1rem 0;\n}\n\n.card-row {\n    display: flex;\n    padding: 0.5rem 0;\n    border-bottom: 1px solid #f0f0f0;\n}\n\n.card-row strong {\n    width: 150px;\n}\n\nfooter {\n    background: #2c3e50;\n    color: white;\n    text-align: center;\n    padding: 2rem 0;\n    margin-top: 3rem;\n}\n`;\n    }\n\n    private getJsTemplate(): string {\n        return `// Confirmation dialogs\ndocument.querySelectorAll('form[data-confirm]').forEach(form => {\n    form.addEventListener('submit', (e) => {\n        if (!confirm(form.dataset.confirm)) {\n            e.preventDefault();\n        }\n    });\n});\n\n// Flash messages auto-hide\nsetTimeout(() => {\n    document.querySelectorAll('.flash-message').forEach(msg => {\n        msg.style.opacity = '0';\n        setTimeout(() => msg.remove(), 300);\n    });\n}, 5000);\n\n// AJAX form submissions\ndocument.querySelectorAll('form[data-ajax]').forEach(form => {\n    form.addEventListener('submit', async (e) => {\n        e.preventDefault();\n        \n        const formData = new FormData(form);\n        const response = await fetch(form.action, {\n            method: form.method,\n            body: formData,\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        });\n        \n        const data = await response.json();\n        console.log('Response:', data);\n    });\n});\n`;\n    }\n\n    private getRouterTemplate(): string {\n        return `<?php\n\nnamespace Core;\n\nclass Router\n{\n    private array $routes = [];\n    private array $middleware = [];\n    private array $groupOptions = [];\n\n    public function middleware($middleware): self\n    {\n        $this->middleware[] = $middleware;\n        return $this;\n    }\n\n    public function group(array $options, callable $callback): void\n    {\n        $previousGroup = $this->groupOptions;\n        $this->groupOptions = array_merge($this->groupOptions, $options);\n        \n        $callback($this);\n        \n        $this->groupOptions = $previousGroup;\n    }\n\n    public function get(string $uri, $action): void\n    {\n        $this->addRoute('GET', $uri, $action);\n    }\n\n    public function post(string $uri, $action): void\n    {\n        $this->addRoute('POST', $uri, $action);\n    }\n\n    public function put(string $uri, $action): void\n    {\n        $this->addRoute('PUT', $uri, $action);\n    }\n\n    public function delete(string $uri, $action): void\n    {\n        $this->addRoute('DELETE', $uri, $action);\n    }\n\n    private function addRoute(string $method, string $uri, $action): void\n    {\n        $prefix = $this->groupOptions['prefix'] ?? '';\n        $middleware = $this->groupOptions['middleware'] ?? null;\n        \n        $uri = '/' . trim($prefix . '/' . trim($uri, '/'), '/');\n        \n        $this->routes[] = [\n            'method' => $method,\n            'uri' => $uri,\n            'action' => $action,\n            'middleware' => $middleware\n        ];\n    }\n\n    public function dispatch(Request $request): Response\n    {\n        $method = $request->method();\n        $uri = parse_url($request->uri(), PHP_URL_PATH);\n\n        foreach ($this->routes as $route) {\n            if ($route['method'] !== $method) {\n                continue;\n            }\n\n            $pattern = preg_replace('/\\\\{([a-zA-Z]+)\\\\}/', '(?P<$1>[^/]+)', $route['uri']);\n            $pattern = '#^' . $pattern . '$#';\n\n            if (preg_match($pattern, $uri, $matches)) {\n                $params = array_filter($matches, 'is_string', ARRAY_FILTER_USE_KEY);\n                \n                $handler = function($request) use ($route, $params) {\n                    return $this->callAction($route['action'], $request, $params);\n                };\n\n                // Apply route-specific middleware\n                if ($route['middleware']) {\n                    $middleware = new $route['middleware']();\n                    $handler = fn($req) => $middleware->handle($req, fn($r) => $this->callAction($route['action'], $r, $params));\n                }\n\n                // Apply global middleware\n                foreach (array_reverse($this->middleware) as $mw) {\n                    $prevHandler = $handler;\n                    $handler = fn($req) => $mw->handle($req, $prevHandler);\n                }\n\n                return $handler($request);\n            }\n        }\n\n        return new Response('Not Found', 404);\n    }\n\n    private function callAction($action, Request $request, array $params): Response\n    {\n        if (is_array($action)) {\n            [$controller, $method] = $action;\n            $instance = new $controller();\n            return $instance->$method($request, ...array_values($params));\n        }\n\n        if (is_callable($action)) {\n            return $action($request, ...array_values($params));\n        }\n\n        return new Response('Invalid action', 500);\n    }\n}\n`;\n    }\n\n    private getRequestTemplate(): string {\n        return `<?php\n\nnamespace Core;\n\nclass Request\n{\n    private string $method;\n    private string $uri;\n    private array $query;\n    private array $post;\n    private array $files;\n    private array $server;\n    private array $headers;\n\n    public function __construct(\n        string $method,\n        string $uri,\n        array $query = [],\n        array $post = [],\n        array $files = [],\n        array $server = [],\n        array $headers = []\n    ) {\n        $this->method = strtoupper($method);\n        $this->uri = $uri;\n        $this->query = $query;\n        $this->post = $post;\n        $this->files = $files;\n        $this->server = $server;\n        $this->headers = $headers;\n    }\n\n    public static function createFromGlobals(): self\n    {\n        $headers = [];\n        foreach ($_SERVER as $key => $value) {\n            if (strpos($key, 'HTTP_') === 0) {\n                $headers[str_replace('HTTP_', '', $key)] = $value;\n            }\n        }\n\n        return new self(\n            $_SERVER['REQUEST_METHOD'] ?? 'GET',\n            $_SERVER['REQUEST_URI'] ?? '/',\n            $_GET,\n            $_POST,\n            $_FILES,\n            $_SERVER,\n            $headers\n        );\n    }\n\n    public function method(): string\n    {\n        return $this->post['_method'] ?? $this->method;\n    }\n\n    public function uri(): string\n    {\n        return $this->uri;\n    }\n\n    public function query(?string $key = null, $default = null)\n    {\n        if ($key === null) {\n            return $this->query;\n        }\n        return $this->query[$key] ?? $default;\n    }\n\n    public function input(?string $key = null, $default = null)\n    {\n        if ($key === null) {\n            return array_merge($this->query, $this->post);\n        }\n        return $this->post[$key] ?? $this->query[$key] ?? $default;\n    }\n\n    public function all(): array\n    {\n        return array_merge($this->query, $this->post);\n    }\n\n    public function header(string $key, $default = null)\n    {\n        return $this->headers[strtoupper(str_replace('-', '_', $key))] ?? $default;\n    }\n\n    public function expectsJson(): bool\n    {\n        return strpos($this->header('Accept', ''), 'application/json') !== false ||\n               strpos($this->header('Content-Type', ''), 'application/json') !== false;\n    }\n}\n`;\n    }\n\n    private getResponseTemplate(): string {\n        return `<?php\n\nnamespace Core;\n\nclass Response\n{\n    public string $content;\n    public int $statusCode;\n    public array $headers;\n\n    public function __construct(string $content = '', int $statusCode = 200, array $headers = [])\n    {\n        $this->content = $content;\n        $this->statusCode = $statusCode;\n        $this->headers = $headers;\n    }\n\n    public function send(): void\n    {\n        http_response_code($this->statusCode);\n        \n        foreach ($this->headers as $name => $value) {\n            header(\"$name: $value\");\n        }\n        \n        echo $this->content;\n    }\n}\n`;\n    }\n\n    private getDatabaseTemplate(): string {\n        return `<?php\n\nnamespace Core;\n\nuse PDO;\nuse PDOException;\n\nclass Database extends PDO\n{\n    private static ?Database $instance = null;\n\n    private function __construct()\n    {\n        $config = require __DIR__ . '/../config/database.php';\n        $connection = $config['connections'][$config['default']];\n\n        $dsn = sprintf(\n            '%s:host=%s;port=%s;dbname=%s;charset=%s',\n            $connection['driver'],\n            $connection['host'],\n            $connection['port'],\n            $connection['database'],\n            $connection['charset']\n        );\n\n        try {\n            parent::__construct(\n                $dsn,\n                $connection['username'],\n                $connection['password'],\n                [\n                    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n                    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n                    PDO::ATTR_EMULATE_PREPARES => false,\n                ]\n            );\n        } catch (PDOException $e) {\n            die('Database connection failed: ' . $e->getMessage());\n        }\n    }\n\n    public static function getInstance(): Database\n    {\n        if (self::$instance === null) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n    private function __clone() {}\n    public function __wakeup() {}\n}\n`;\n    }\n\n    private getControllerTestTemplate(entityName: string): string {\n        return `<?php\n\nuse PHPUnit\\\\Framework\\\\TestCase;\nuse App\\\\Controllers\\\\${entityName}Controller;\n\nclass ${entityName}ControllerTest extends TestCase\n{\n    public function testIndex()\n    {\n        // TODO: Implement test\n        $this->assertTrue(true);\n    }\n\n    public function testStore()\n    {\n        // TODO: Implement test\n        $this->assertTrue(true);\n    }\n}\n`;\n    }\n\n    private getComposerTemplate(entityName: string): string {\n        return `{\n    \"name\": \"app/mvc-advanced\",\n    \"description\": \"Modern PHP MVC Application for ${entityName}\",\n    \"type\": \"project\",\n    \"require\": {\n        \"php\": \"^8.0\"\n    },\n    \"require-dev\": {\n        \"phpunit/phpunit\": \"^9.0\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"App\\\\\\\\\": \"app/\",\n            \"Core\\\\\\\\\": \"core/\"\n        }\n    },\n    \"autoload-dev\": {\n        \"psr-4\": {\n            \"Tests\\\\\\\\\": \"tests/\"\n        }\n    },\n    \"scripts\": {\n        \"test\": \"phpunit\",\n        \"migrate\": \"php database/migrate.php\",\n        \"seed\": \"php database/seed.php\"\n    }\n}\n`;\n    }\n\n    private getEnvTemplate(): string {\n        return `APP_NAME=\"PHP MVC App\"\nAPP_ENV=development\nAPP_DEBUG=true\nAPP_URL=http://localhost\n\nDB_CONNECTION=mysql\nDB_HOST=localhost\nDB_PORT=3306\nDB_DATABASE=app_db\nDB_USERNAME=root\nDB_PASSWORD=\n\nSESSION_LIFETIME=120\nSESSION_DRIVER=file\n`;\n    }\n\n    private getHtaccessTemplate(): string {\n        return `<IfModule mod_rewrite.c>\n    RewriteEngine On\n    RewriteBase /\n    \n    # Redirect to public directory\n    RewriteCond %{REQUEST_URI} !^/public/\n    RewriteRule ^(.*)$ /public/$1 [L]\n    \n    # Handle front controller\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ /public/index.php [QSA,L]\n</IfModule>\n\n# Disable directory browsing\nOptions -Indexes\n\n# Security headers\n<IfModule mod_headers.c>\n    Header set X-Content-Type-Options \"nosniff\"\n    Header set X-Frame-Options \"SAMEORIGIN\"\n    Header set X-XSS-Protection \"1; mode=block\"\n</IfModule>\n`;\n    }\n\n    private getReadmeTemplate(entityName: string): string {\n        return `# PHP MVC Advanced Application\n\nModern PHP MVC application with ${entityName} CRUD functionality.\n\n## Features\n\n- üèóÔ∏è **MVC Architecture** - Clean separation of concerns\n- üõ£Ô∏è **Routing** - Powerful routing with middleware support\n- üíâ **Dependency Injection** - Service container for loose coupling\n- üóÉÔ∏è **Database** - PDO-based database layer with migrations\n- ‚úÖ **Validation** - Input validation system\n- üé® **Views** - Template system with layouts\n- üîí **Security** - CSRF protection, password hashing\n- üì¶ **PSR-4 Autoloading** - Composer autoloading\n\n## Installation\n\n1. Clone the repository\n2. Install dependencies:\n   \\`\\`\\`bash\n   composer install\n   \\`\\`\\`\n\n3. Copy environment file:\n   \\`\\`\\`bash\n   cp .env.example .env\n   \\`\\`\\`\n\n4. Configure your database in \\`.env\\`\n\n5. Run migrations:\n   \\`\\`\\`bash\n   composer migrate\n   \\`\\`\\`\n\n6. Seed database (optional):\n   \\`\\`\\`bash\n   composer seed\n   \\`\\`\\`\n\n7. Start development server:\n   \\`\\`\\`bash\n   php -S localhost:8000 -t public\n   \\`\\`\\`\n\n## Usage\n\nVisit \\`http://localhost:8000\\` in your browser.\n\n### API Endpoints\n\n- \\`GET /${entityName.toLowerCase()}s\\` - List all ${entityName.toLowerCase()}s\n- \\`GET /${entityName.toLowerCase()}s/{id}\\` - Get single ${entityName.toLowerCase()}\n- \\`POST /${entityName.toLowerCase()}s\\` - Create new ${entityName.toLowerCase()}\n- \\`PUT /${entityName.toLowerCase()}s/{id}\\` - Update ${entityName.toLowerCase()}\n- \\`DELETE /${entityName.toLowerCase()}s/{id}\\` - Delete ${entityName.toLowerCase()}\n\n## Project Structure\n\n\\`\\`\\`\napp/\n‚îú‚îÄ‚îÄ Controllers/       # Application controllers\n‚îú‚îÄ‚îÄ Models/           # Data models\n‚îú‚îÄ‚îÄ Views/            # View templates\n‚îú‚îÄ‚îÄ Middleware/       # HTTP middleware\n‚îú‚îÄ‚îÄ Services/         # Business logic\n‚îî‚îÄ‚îÄ Validators/       # Input validation\n\nconfig/               # Configuration files\ncore/                 # Core framework files\ndatabase/             \n‚îú‚îÄ‚îÄ migrations/       # Database migrations\n‚îî‚îÄ‚îÄ seeders/          # Database seeders\npublic/               # Public web root\ntests/                # Unit tests\n\\`\\`\\`\n\n## Testing\n\nRun tests with:\n\\`\\`\\`bash\ncomposer test\n\\`\\`\\`\n\n## License\n\nMIT License\n`;\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(265);\n"],"names":["TemplateManager","static","Map","name","description","icon","features","includes","getTemplate","this","templates","get","getAllTemplates","Array","from","entries","getTemplateNames","keys","context","view","vscode","window","createTreeView","treeDataProvider","PhpStructureProvider","showCollapseAll","disposable","commands","registerCommand","async","folders","workspace","workspaceFolders","showErrorMessage","projectRoot","uri","fsPath","templateOptions","map","key","config","label","detail","join","value","selectedTemplate","showQuickPick","placeHolder","matchOnDescription","matchOnDetail","showInformationMessage","type","entityName","showInputBox","prompt","validateInput","test","templateConfig","selected","canPickMany","ignoreFocusOut","length","includeDocker","includeTests","includeGitignore","generatePhpStructure","components","then","selection","executeCommand","Uri","file","err","msg","Error","message","String","generateButton","subscriptions","push","_onDidChangeTreeData","EventEmitter","onDidChangeTreeData","event","refresh","fire","getTreeItem","element","getChildren","Promise","resolve","PhpStructureItem","TreeItemCollapsibleState","None","command","title","arguments","TreeItem","tooltip","collapsibleState","constructor","super","module","exports","require","generate","rootPath","options","structure","getModelTemplate","getBaseModelTemplate","getRepositoryTemplate","getViewTemplate","getBaseViewTemplate","getPresenterTemplate","getBasePresenterTemplate","getViewInterfaceTemplate","getPresenterInterfaceTemplate","getServiceTemplate","toLowerCase","getListTemplate","getFormTemplate","getDetailTemplate","getAppConfigTemplate","getDatabaseConfigTemplate","getIndexTemplate","getPresenterTestTemplate","getModelTestTemplate","getComposerTemplate","getReadmeTemplate","generateLegacyStructure","sel","entityLower","askOverwriteSync","targetPath","createStructure","basePath","askOverwrite","fullPath","path","fs","existsSync","lstatSync","isDirectory","mkdirSync","recursive","writeFileSync","console","error","MVCAdvancedGenerator","MVPGenerator","getDockerComposeTemplate","getControllerTemplate","getBaseControllerTemplate","getIndexViewTemplate","getCreateViewTemplate","getEditViewTemplate","getShowViewTemplate","getLayoutTemplate","getAuthMiddlewareTemplate","getCorsMiddlewareTemplate","getValidateMiddlewareTemplate","getContainerTemplate","getValidatorTemplate","getRoutesTemplate","Date","now","getMigrationTemplate","getSeederTemplate","getPublicIndexTemplate","getCssTemplate","getJsTemplate","getRouterTemplate","getRequestTemplate","getResponseTemplate","getDatabaseTemplate","getControllerTestTemplate","getEnvTemplate","getHtaccessTemplate","lower","table","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}