(()=>{"use strict";var e={261:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TemplateManager=void 0;class t{static templates=new Map([["mvc-advanced",{name:"MVC Advanced",description:"Modern MVC with Routing, Middleware, Dependency Injection",icon:"üèóÔ∏è",features:["PSR-4 Autoloading","Route Management","Middleware Pipeline","Service Container"],includes:["Controllers","Models","Views","Routes","Middleware","Services","Config","Database"]}],["mvp",{name:"MVP (Model-View-Presenter)",description:"Separation of presentation logic from business logic",icon:"üéØ",features:["Passive View","Testable Presenters","Model Independence"],includes:["Models","Views","Presenters","Contracts","Services","Config"]}],["layered",{name:"Layered Architecture",description:"Domain-Driven Design with clean separation",icon:"üéÇ",features:["Domain Layer","Application Layer","Infrastructure Layer","Clean Architecture"],includes:["Domain","Application","Infrastructure","Presentation","Tests"]}],["rest-api",{name:"REST API",description:"Modern RESTful API with OpenAPI documentation",icon:"üåê",features:["OpenAPI 3.0","JWT Authentication","Rate Limiting","CORS","API Versioning"],includes:["Controllers","Models","Middleware","Routes","Documentation","Tests"]}],["microservices",{name:"Microservices",description:"Microservices architecture with service discovery",icon:"üî¨",features:["Service Isolation","API Gateway","Event Bus","Service Registry"],includes:["Services","Gateway","Events","Config","Docker","Tests"]}],["functional",{name:"Functional PHP",description:"Pure functional programming approach",icon:"‚ö°",features:["Pure Functions","Immutability","Composition","No Side Effects"],includes:["Functions","Types","Utils","Config","Tests"]}]]);static getTemplate(e){return this.templates.get(e)}static getAllTemplates(){return Array.from(this.templates.entries())}static getTemplateNames(){return Array.from(this.templates.keys())}}n.TemplateManager=t},265:function(e,n,t){var r,a=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t);var a=Object.getOwnPropertyDescriptor(n,t);a&&!("get"in a?!n.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,a)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),s=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},r(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=r(e),i=0;i<t.length;i++)"default"!==t[i]&&a(n,e,t[i]);return s(n,e),n});Object.defineProperty(n,"__esModule",{value:!0}),n.activate=function(e){const n=o.window.createTreeView("phpStructureView",{treeDataProvider:new p,showCollapseAll:!0});let t=o.commands.registerCommand("extension.generatePhpStructure",(async()=>{const e=o.workspace.workspaceFolders;if(!e)return void o.window.showErrorMessage("üö´ Open a project folder before generating the structure.");const n=e[0].uri.fsPath,t=l.TemplateManager.getAllTemplates().map((([e,n])=>({label:`${n.icon} ${n.name}`,description:n.description,detail:`‚ú® Features: ${n.features.join(", ")}`,value:e}))),r=await o.window.showQuickPick(t,{placeHolder:"üé® Select the PHP architecture to generate",matchOnDescription:!0,matchOnDetail:!0});if(!r)return void o.window.showInformationMessage("‚ùå No architecture selected.");const a=r.value,s=await o.window.showInputBox({placeHolder:"üìù Enter the main entity name (e.g., User, Product, Order)",prompt:"Entity name will be used to generate files and classes",validateInput:e=>e&&/^[A-Z][A-Za-z]*$/.test(e)?null:"‚ö†Ô∏è Entity name must start with uppercase and contain only letters"});if(!s)return void o.window.showErrorMessage("‚ùå Invalid entity name.");const i=l.TemplateManager.getTemplate(a);if(!i)return void o.window.showErrorMessage("‚ùå Template configuration not found.");const p=await o.window.showQuickPick(i.includes,{canPickMany:!0,placeHolder:`üì¶ Select components to generate (${i.name})`,ignoreFocusOut:!0});if(!p||0===p.length)return void o.window.showInformationMessage("‚ùå No components selected. Operation cancelled.");const c=await o.window.showQuickPick(["Yes","No"],{placeHolder:"üê≥ Include Docker configuration?"}),u=await o.window.showQuickPick(["Yes","No"],{placeHolder:"üß™ Include test files?"}),$=await o.window.showQuickPick(["Yes","No"],{placeHolder:"üìÅ Include .gitignore?"});try{d(n,a,s,{components:p,includeDocker:"Yes"===c,includeTests:"Yes"===u,includeGitignore:"Yes"===$}),o.window.showInformationMessage(`‚úÖ ${i.icon} ${i.name} structure for "${s}" generated successfully! üéâ`,"Open Folder").then((e=>{"Open Folder"===e&&o.commands.executeCommand("revealInExplorer",o.Uri.file(n))}))}catch(e){const n=e instanceof Error?e.message:String(e);o.window.showErrorMessage(`‚ùå Error generating structure: ${n}`)}}));const r=o.commands.registerCommand("phpStructure.generate",(()=>{o.commands.executeCommand("extension.generatePhpStructure")}));e.subscriptions.push(n),e.subscriptions.push(t),e.subscriptions.push(r)},n.deactivate=function(){};const o=i(t(398)),l=t(261),d=t(562);class p{_onDidChangeTreeData=new o.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e}getChildren(e){return e?Promise.resolve([]):Promise.resolve([new c("Generate WEB Application Structure","Generate WEB Application Structure",o.TreeItemCollapsibleState.None,{command:"extension.generatePhpStructure",title:"Generate WEB Structure",arguments:[]})])}}class c extends o.TreeItem{label;tooltip;collapsibleState;command;constructor(e,n,t,r){super(e,t),this.label=e,this.tooltip=n,this.collapsibleState=t,this.command=r,this.tooltip=n}}},398:e=>{e.exports=require("vscode")},410:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MVPGenerator=void 0,n.MVPGenerator=class{generate(e,n,t){const r={};return r.app={Models:{[`${n}Model.php`]:this.getModelTemplate(n),"BaseModel.php":this.getBaseModelTemplate(),[`${n}Repository.php`]:this.getRepositoryTemplate(n)},Views:{[`${n}View.php`]:this.getViewTemplate(n),"BaseView.php":this.getBaseViewTemplate()},Presenters:{[`${n}Presenter.php`]:this.getPresenterTemplate(n),"BasePresenter.php":this.getBasePresenterTemplate()},Contracts:{[`${n}ViewInterface.php`]:this.getViewInterfaceTemplate(n),[`${n}PresenterInterface.php`]:this.getPresenterInterfaceTemplate(n)},Services:{[`${n}Service.php`]:this.getServiceTemplate(n)},Templates:{[n.toLowerCase()]:{"list.phtml":this.getListTemplate(n),"form.phtml":this.getFormTemplate(n),"detail.phtml":this.getDetailTemplate(n)}}},r.config={"app.php":this.getAppConfigTemplate(),"database.php":this.getDatabaseConfigTemplate()},r.public={"index.php":this.getIndexTemplate(n)},r.tests={Presenters:{[`${n}PresenterTest.php`]:this.getPresenterTestTemplate(n)},Models:{[`${n}ModelTest.php`]:this.getModelTestTemplate(n)}},r["composer.json"]=this.getComposerTemplate(n),r["README.md"]=this.getReadmeTemplate(n),r}getModelTemplate(e){return`<?php\n\nnamespace App\\Models;\n\nclass ${e}Model extends BaseModel\n{\n    private int $id;\n    private string $name;\n    private string $email;\n    private bool $status;\n    private ?string $createdAt;\n    private ?string $updatedAt;\n\n    public function __construct(array $data = [])\n    {\n        $this->id = $data['id'] ?? 0;\n        $this->name = $data['name'] ?? '';\n        $this->email = $data['email'] ?? '';\n        $this->status = $data['status'] ?? true;\n        $this->createdAt = $data['created_at'] ?? null;\n        $this->updatedAt = $data['updated_at'] ?? null;\n    }\n\n    // Getters\n    public function getId(): int\n    {\n        return $this->id;\n    }\n\n    public function getName(): string\n    {\n        return $this->name;\n    }\n\n    public function getEmail(): string\n    {\n        return $this->email;\n    }\n\n    public function getStatus(): bool\n    {\n        return $this->status;\n    }\n\n    public function getCreatedAt(): ?string\n    {\n        return $this->createdAt;\n    }\n\n    public function getUpdatedAt(): ?string\n    {\n        return $this->updatedAt;\n    }\n\n    // Setters\n    public function setName(string $name): void\n    {\n        $this->name = $name;\n    }\n\n    public function setEmail(string $email): void\n    {\n        $this->email = $email;\n    }\n\n    public function setStatus(bool $status): void\n    {\n        $this->status = $status;\n    }\n\n    // Validation\n    public function validate(): array\n    {\n        $errors = [];\n\n        if (empty($this->name)) {\n            $errors['name'] = 'Name is required';\n        }\n\n        if (empty($this->email)) {\n            $errors['email'] = 'Email is required';\n        } elseif (!filter_var($this->email, FILTER_VALIDATE_EMAIL)) {\n            $errors['email'] = 'Email must be valid';\n        }\n\n        return $errors;\n    }\n\n    public function toArray(): array\n    {\n        return [\n            'id' => $this->id,\n            'name' => $this->name,\n            'email' => $this->email,\n            'status' => $this->status,\n            'created_at' => $this->createdAt,\n            'updated_at' => $this->updatedAt\n        ];\n    }\n}\n`}getBaseModelTemplate(){return"<?php\n\nnamespace App\\Models;\n\nabstract class BaseModel\n{\n    abstract public function toArray(): array;\n    abstract public function validate(): array;\n}\n"}getRepositoryTemplate(e){return`<?php\n\nnamespace App\\Models;\n\nuse PDO;\n\nclass ${e}Repository\n{\n    private PDO $db;\n\n    public function __construct(PDO $db)\n    {\n        $this->db = $db;\n    }\n\n    public function findAll(): array\n    {\n        $stmt = $this->db->query("SELECT * FROM ${e.toLowerCase()}s ORDER BY created_at DESC");\n        $results = $stmt->fetchAll(PDO::FETCH_ASSOC);\n        \n        return array_map(fn($row) => new ${e}Model($row), $results);\n    }\n\n    public function findById(int $id): ?${e}Model\n    {\n        $stmt = $this->db->prepare("SELECT * FROM ${e.toLowerCase()}s WHERE id = ?");\n        $stmt->execute([$id]);\n        $row = $stmt->fetch(PDO::FETCH_ASSOC);\n        \n        return $row ? new ${e}Model($row) : null;\n    }\n\n    public function save(${e}Model $model): ${e}Model\n    {\n        if ($model->getId() > 0) {\n            return $this->update($model);\n        }\n        return $this->create($model);\n    }\n\n    private function create(${e}Model $model): ${e}Model\n    {\n        $stmt = $this->db->prepare("\n            INSERT INTO ${e.toLowerCase()}s (name, email, status, created_at, updated_at)\n            VALUES (?, ?, ?, NOW(), NOW())\n        ");\n        \n        $stmt->execute([\n            $model->getName(),\n            $model->getEmail(),\n            $model->getStatus() ? 1 : 0\n        ]);\n        \n        return $this->findById($this->db->lastInsertId());\n    }\n\n    private function update(${e}Model $model): ${e}Model\n    {\n        $stmt = $this->db->prepare("\n            UPDATE ${e.toLowerCase()}s \n            SET name = ?, email = ?, status = ?, updated_at = NOW()\n            WHERE id = ?\n        ");\n        \n        $stmt->execute([\n            $model->getName(),\n            $model->getEmail(),\n            $model->getStatus() ? 1 : 0,\n            $model->getId()\n        ]);\n        \n        return $this->findById($model->getId());\n    }\n\n    public function delete(int $id): bool\n    {\n        $stmt = $this->db->prepare("DELETE FROM ${e.toLowerCase()}s WHERE id = ?");\n        return $stmt->execute([$id]);\n    }\n}\n`}getViewTemplate(e){return`<?php\n\nnamespace App\\Views;\n\nuse App\\Contracts\\${e}ViewInterface;\n\nclass ${e}View extends BaseView implements ${e}ViewInterface\n{\n    public function showList(array $items): void\n    {\n        $this->render('${e.toLowerCase()}/list', ['items' => $items]);\n    }\n\n    public function showDetail(array $item): void\n    {\n        $this->render('${e.toLowerCase()}/detail', ['item' => $item]);\n    }\n\n    public function showForm(?array $item = null): void\n    {\n        $this->render('${e.toLowerCase()}/form', ['item' => $item]);\n    }\n\n    public function showErrors(array $errors): void\n    {\n        $this->render('errors', ['errors' => $errors]);\n    }\n\n    public function showSuccess(string $message): void\n    {\n        $this->render('success', ['message' => $message]);\n    }\n}\n`}getBaseViewTemplate(){return"<?php\n\nnamespace App\\Views;\n\nabstract class BaseView\n{\n    protected function render(string $template, array $data = []): void\n    {\n        extract($data);\n        $templatePath = __DIR__ . '/../Templates/' . $template . '.phtml';\n        \n        if (!file_exists($templatePath)) {\n            throw new \\Exception(\"Template not found: $template\");\n        }\n        \n        require $templatePath;\n    }\n\n    protected function escape(string $value): string\n    {\n        return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');\n    }\n}\n"}getPresenterTemplate(e){return`<?php\n\nnamespace App\\Presenters;\n\nuse App\\Contracts\\${e}ViewInterface;\nuse App\\Contracts\\${e}PresenterInterface;\nuse App\\Models\\${e}Repository;\nuse App\\Services\\${e}Service;\n\nclass ${e}Presenter extends BasePresenter implements ${e}PresenterInterface\n{\n    private ${e}ViewInterface $view;\n    private ${e}Repository $repository;\n    private ${e}Service $service;\n\n    public function __construct(\n        ${e}ViewInterface $view,\n        ${e}Repository $repository,\n        ${e}Service $service\n    ) {\n        $this->view = $view;\n        $this->repository = $repository;\n        $this->service = $service;\n    }\n\n    public function showList(): void\n    {\n        try {\n            $models = $this->repository->findAll();\n            $items = array_map(fn($model) => $this->service->formatForDisplay($model), $models);\n            $this->view->showList($items);\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function showDetail(int $id): void\n    {\n        try {\n            $model = $this->repository->findById($id);\n            \n            if (!$model) {\n                $this->view->showErrors(['notFound' => '${e} not found']);\n                return;\n            }\n            \n            $item = $this->service->formatForDisplay($model);\n            $this->view->showDetail($item);\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function showCreateForm(): void\n    {\n        $this->view->showForm();\n    }\n\n    public function showEditForm(int $id): void\n    {\n        try {\n            $model = $this->repository->findById($id);\n            \n            if (!$model) {\n                $this->view->showErrors(['notFound' => '${e} not found']);\n                return;\n            }\n            \n            $this->view->showForm($model->toArray());\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to load data']);\n        }\n    }\n\n    public function create(array $data): void\n    {\n        try {\n            $result = $this->service->create($data);\n            \n            if (isset($result['errors'])) {\n                $this->view->showErrors($result['errors']);\n                $this->view->showForm($data);\n                return;\n            }\n            \n            $this->view->showSuccess('${e} created successfully');\n            $this->showList();\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to create ${e.toLowerCase()}']);\n        }\n    }\n\n    public function update(int $id, array $data): void\n    {\n        try {\n            $result = $this->service->update($id, $data);\n            \n            if (isset($result['errors'])) {\n                $this->view->showErrors($result['errors']);\n                $this->view->showForm(array_merge(['id' => $id], $data));\n                return;\n            }\n            \n            $this->view->showSuccess('${e} updated successfully');\n            $this->showDetail($id);\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to update ${e.toLowerCase()}']);\n        }\n    }\n\n    public function delete(int $id): void\n    {\n        try {\n            $result = $this->service->delete($id);\n            \n            if (!$result) {\n                $this->view->showErrors(['notFound' => '${e} not found']);\n                return;\n            }\n            \n            $this->view->showSuccess('${e} deleted successfully');\n            $this->showList();\n        } catch (\\Exception $e) {\n            $this->view->showErrors(['system' => 'Unable to delete ${e.toLowerCase()}']);\n        }\n    }\n}\n`}getBasePresenterTemplate(){return"<?php\n\nnamespace App\\Presenters;\n\nabstract class BasePresenter\n{\n    // Common presenter functionality\n}\n"}getViewInterfaceTemplate(e){return`<?php\n\nnamespace App\\Contracts;\n\ninterface ${e}ViewInterface\n{\n    public function showList(array $items): void;\n    public function showDetail(array $item): void;\n    public function showForm(?array $item = null): void;\n    public function showErrors(array $errors): void;\n    public function showSuccess(string $message): void;\n}\n`}getPresenterInterfaceTemplate(e){return`<?php\n\nnamespace App\\Contracts;\n\ninterface ${e}PresenterInterface\n{\n    public function showList(): void;\n    public function showDetail(int $id): void;\n    public function showCreateForm(): void;\n    public function showEditForm(int $id): void;\n    public function create(array $data): void;\n    public function update(int $id, array $data): void;\n    public function delete(int $id): void;\n}\n`}getServiceTemplate(e){return`<?php\n\nnamespace App\\Services;\n\nuse App\\Models\\${e}Model;\nuse App\\Models\\${e}Repository;\n\nclass ${e}Service\n{\n    private ${e}Repository $repository;\n\n    public function __construct(${e}Repository $repository)\n    {\n        $this->repository = $repository;\n    }\n\n    public function formatForDisplay(${e}Model $model): array\n    {\n        $data = $model->toArray();\n        \n        // Additional formatting for display\n        $data['status_label'] = $model->getStatus() ? 'Active' : 'Inactive';\n        $data['created_at_formatted'] = $data['created_at'] ? \n            date('M d, Y', strtotime($data['created_at'])) : 'N/A';\n        \n        return $data;\n    }\n\n    public function create(array $data): array\n    {\n        $model = new ${e}Model($data);\n        $errors = $model->validate();\n        \n        if (!empty($errors)) {\n            return ['errors' => $errors];\n        }\n        \n        $saved = $this->repository->save($model);\n        return ['model' => $saved];\n    }\n\n    public function update(int $id, array $data): array\n    {\n        $model = $this->repository->findById($id);\n        \n        if (!$model) {\n            return ['errors' => ['notFound' => '${e} not found']];\n        }\n        \n        $model->setName($data['name'] ?? $model->getName());\n        $model->setEmail($data['email'] ?? $model->getEmail());\n        $model->setStatus($data['status'] ?? $model->getStatus());\n        \n        $errors = $model->validate();\n        \n        if (!empty($errors)) {\n            return ['errors' => $errors];\n        }\n        \n        $saved = $this->repository->save($model);\n        return ['model' => $saved];\n    }\n\n    public function delete(int $id): bool\n    {\n        return $this->repository->delete($id);\n    }\n}\n`}getListTemplate(e){return`<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\$this->escape('${e} List') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; }\n        table { width: 100%; border-collapse: collapse; }\n        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }\n        th { background: #f5f5f5; }\n        .actions a { margin-right: 10px; }\n        .btn { padding: 8px 16px; text-decoration: none; background: #007bff; color: white; border-radius: 4px; }\n    </style>\n</head>\n<body>\n    <h1>${e} List</h1>\n    <a href="?action=create" class="btn">Create New ${e}</a>\n    \n    <table>\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Status</th>\n                <th>Created</th>\n                <th>Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            <?php foreach (\\$items as \\$item): ?>\n            <tr>\n                <td><?= \\$this->escape(\\$item['id']) ?></td>\n                <td><?= \\$this->escape(\\$item['name']) ?></td>\n                <td><?= \\$this->escape(\\$item['email']) ?></td>\n                <td><?= \\$this->escape(\\$item['status_label']) ?></td>\n                <td><?= \\$this->escape(\\$item['created_at_formatted']) ?></td>\n                <td class="actions">\n                    <a href="?action=show&id=<?= \\$item['id'] ?>">View</a>\n                    <a href="?action=edit&id=<?= \\$item['id'] ?>">Edit</a>\n                    <a href="?action=delete&id=<?= \\$item['id'] ?>" onclick="return confirm('Are you sure?')">Delete</a>\n                </td>\n            </tr>\n            <?php endforeach; ?>\n        </tbody>\n    </table>\n</body>\n</html>\n`}getFormTemplate(e){return`<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\$this->escape(isset(\\$item) ? 'Edit ${e}' : 'Create ${e}') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; max-width: 600px; }\n        .form-group { margin-bottom: 15px; }\n        label { display: block; margin-bottom: 5px; font-weight: bold; }\n        input[type="text"], input[type="email"] { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }\n        .btn { padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }\n        .btn:hover { background: #0056b3; }\n    </style>\n</head>\n<body>\n    <h1><?= isset(\\$item) ? 'Edit ${e}' : 'Create ${e}' ?></h1>\n    \n    <form method="POST" action="?action=<?= isset(\\$item) ? 'update&id=' . \\$item['id'] : 'store' ?>">\n        <div class="form-group">\n            <label for="name">Name:</label>\n            <input type="text" id="name" name="name" value="<?= \\$this->escape(\\$item['name'] ?? '') ?>" required>\n        </div>\n        \n        <div class="form-group">\n            <label for="email">Email:</label>\n            <input type="email" id="email" name="email" value="<?= \\$this->escape(\\$item['email'] ?? '') ?>" required>\n        </div>\n        \n        <div class="form-group">\n            <label>\n                <input type="checkbox" name="status" value="1" <?= (\\$item['status'] ?? true) ? 'checked' : '' ?>>\n                Active\n            </label>\n        </div>\n        \n        <button type="submit" class="btn"><?= isset(\\$item) ? 'Update' : 'Create' ?></button>\n        <a href="?action=list">Cancel</a>\n    </form>\n</body>\n</html>\n`}getDetailTemplate(e){return`<!DOCTYPE html>\n<html>\n<head>\n    <title><?= \\$this->escape('${e} Details') ?></title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 20px; max-width: 600px; }\n        .detail-row { padding: 10px 0; border-bottom: 1px solid #ddd; }\n        .detail-row strong { display: inline-block; width: 150px; }\n        .actions { margin-top: 20px; }\n        .btn { padding: 10px 20px; text-decoration: none; background: #007bff; color: white; border-radius: 4px; margin-right: 10px; }\n    </style>\n</head>\n<body>\n    <h1>${e} Details</h1>\n    \n    <div class="detail-row">\n        <strong>ID:</strong>\n        <?= \\$this->escape(\\$item['id']) ?>\n    </div>\n    <div class="detail-row">\n        <strong>Name:</strong>\n        <?= \\$this->escape(\\$item['name']) ?>\n    </div>\n    <div class="detail-row">\n        <strong>Email:</strong>\n        <?= \\$this->escape(\\$item['email']) ?>\n    </div>\n    <div class="detail-row">\n        <strong>Status:</strong>\n        <?= \\$this->escape(\\$item['status_label']) ?>\n    </div>\n    <div class="detail-row">\n        <strong>Created:</strong>\n        <?= \\$this->escape(\\$item['created_at_formatted']) ?>\n    </div>\n    \n    <div class="actions">\n        <a href="?action=edit&id=<?= \\$item['id'] ?>" class="btn">Edit</a>\n        <a href="?action=list" class="btn">Back to List</a>\n    </div>\n</body>\n</html>\n`}getAppConfigTemplate(){return"<?php\n\nreturn [\n    'name' => 'PHP MVP Application',\n    'debug' => true,\n];\n"}getDatabaseConfigTemplate(){return"<?php\n\nreturn [\n    'host' => 'localhost',\n    'database' => 'app_db',\n    'username' => 'root',\n    'password' => '',\n    'charset' => 'utf8mb4'\n];\n"}getIndexTemplate(e){return`<?php\n\nrequire_once __DIR__ . '/../vendor/autoload.php';\n\nuse App\\Models\\${e}Repository;\nuse App\\Views\\${e}View;\nuse App\\Presenters\\${e}Presenter;\nuse App\\Services\\${e}Service;\n\n// Database connection\n$config = require __DIR__ . '/../config/database.php';\n$dsn = "mysql:host={$config['host']};dbname={$config['database']};charset={$config['charset']}";\n$pdo = new PDO($dsn, $config['username'], $config['password'], [\n    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC\n]);\n\n// Initialize MVP components\n$repository = new ${e}Repository($pdo);\n$view = new ${e}View();\n$service = new ${e}Service($repository);\n$presenter = new ${e}Presenter($view, $repository, $service);\n\n// Handle requests\n$action = $_GET['action'] ?? 'list';\n$id = $_GET['id'] ?? null;\n\nswitch ($action) {\n    case 'list':\n        $presenter->showList();\n        break;\n    \n    case 'show':\n        $presenter->showDetail((int)$id);\n        break;\n    \n    case 'create':\n        $presenter->showCreateForm();\n        break;\n    \n    case 'store':\n        $presenter->create($_POST);\n        break;\n    \n    case 'edit':\n        $presenter->showEditForm((int)$id);\n        break;\n    \n    case 'update':\n        $presenter->update((int)$id, $_POST);\n        break;\n    \n    case 'delete':\n        $presenter->delete((int)$id);\n        break;\n    \n    default:\n        $presenter->showList();\n}\n`}getPresenterTestTemplate(e){return`<?php\n\nuse PHPUnit\\Framework\\TestCase;\nuse App\\Presenters\\${e}Presenter;\n\nclass ${e}PresenterTest extends TestCase\n{\n    public function testShowListCallsView()\n    {\n        // TODO: Implement test with mocks\n        $this->assertTrue(true);\n    }\n}\n`}getModelTestTemplate(e){return`<?php\n\nuse PHPUnit\\Framework\\TestCase;\nuse App\\Models\\${e}Model;\n\nclass ${e}ModelTest extends TestCase\n{\n    public function testValidationFailsWithEmptyName()\n    {\n        $model = new ${e}Model(['name' => '', 'email' => 'test@example.com']);\n        $errors = $model->validate();\n        \n        $this->assertArrayHasKey('name', $errors);\n    }\n\n    public function testValidationFailsWithInvalidEmail()\n    {\n        $model = new ${e}Model(['name' => 'Test', 'email' => 'invalid']);\n        $errors = $model->validate();\n        \n        $this->assertArrayHasKey('email', $errors);\n    }\n}\n`}getComposerTemplate(e){return`{\n    "name": "app/mvp-${e.toLowerCase()}",\n    "description": "MVP Architecture for ${e}",\n    "type": "project",\n    "require": {\n        "php": "^8.0"\n    },\n    "require-dev": {\n        "phpunit/phpunit": "^9.0"\n    },\n    "autoload": {\n        "psr-4": {\n            "App\\\\": "app/"\n        }\n    },\n    "autoload-dev": {\n        "psr-4": {\n            "Tests\\\\": "tests/"\n        }\n    }\n}\n`}getReadmeTemplate(e){return`# PHP MVP Application - ${e}\n\nMVP (Model-View-Presenter) architecture implementation.\n\n## Architecture\n\n- **Model**: Pure data objects with validation and business rules\n- **View**: Passive view that only displays data\n- **Presenter**: Contains presentation logic, mediates between Model and View\n\n## Features\n\n- ‚úÖ Testable presenters with dependency injection\n- üéØ Clear separation of concerns\n- üì¶ Repository pattern for data access\n- üîí Type-safe contracts (interfaces)\n\n## Installation\n\n\`\`\`bash\ncomposer install\n\`\`\`\n\nConfigure database in \`config/database.php\`.\n\n## Usage\n\nStart development server:\n\`\`\`bash\nphp -S localhost:8000 -t public\n\`\`\`\n\n## Testing\n\n\`\`\`bash\ncomposer test\n\`\`\`\n\n## MVP Pattern Benefits\n\n1. **Testability**: Presenter can be unit tested without views\n2. **Separation**: View is passive and knows nothing about Model\n3. **Reusability**: Same presenter can work with different views\n4. **Maintainability**: Clear responsibilities for each component\n\n## Project Structure\n\n\`\`\`\napp/\n‚îú‚îÄ‚îÄ Models/           # Data models and repositories\n‚îú‚îÄ‚îÄ Views/            # View implementations\n‚îú‚îÄ‚îÄ Presenters/       # Presentation logic\n‚îú‚îÄ‚îÄ Contracts/        # Interfaces\n‚îú‚îÄ‚îÄ Services/         # Business logic services\n‚îî‚îÄ‚îÄ Templates/        # View templates\n\`\`\`\n`}}},562:function(e,n,t){var r,a=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t);var a=Object.getOwnPropertyDescriptor(n,t);a&&!("get"in a?!n.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,a)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),s=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),i=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[n.length]=t);return n},r(e)},function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t=r(e),i=0;i<t.length;i++)"default"!==t[i]&&a(n,e,t[i]);return s(n,e),n});Object.defineProperty(n,"__esModule",{value:!0});const o=i(t(896)),l=i(t(928));function d(e,n,t){const r={},a=e=>!t?.components||t.components.includes(e);if("MVC"===e)r.app={},a("Controller")&&(r.app.Controllers={[`${n}Controller.php`]:`<?php\nnamespace App\\Controllers;\nuse App\\Models\\${n};\n\nclass ${n}Controller {\n    public function index() {\n        echo json_encode(${n}::all());\n    }\n    public function show($id) {\n        echo json_encode(${n}::find($id));\n    }\n    public function store($data) {\n        $entity = new ${n}($data);\n        $entity->save();\n    }\n}\n?>`}),a("Model")&&(r.app.Models={[`${n}.php`]:`<?php\nnamespace App\\Models;\nclass ${n} {\n    public $id;\n    public $created_at;\n    public function __construct($data = []) {\n        foreach ($data as $key => $value) {\n            $this->$key = $value;\n        }\n    }\n    public static function all() {\n        return []; // Simulazione di una query\n    }\n    public static function find($id) {\n        return new self(['id' => $id]);\n    }\n    public function save() {\n        echo "Salvataggio dell'oggetto";\n    }\n}\n?>`}),a("View")&&(r.app.Views={[`${n}.php`]:`<!DOCTYPE html>\n<html>\n<head>\n    <title>${n} View</title>\n</head>\n<body>\n    <h1>Vista per ${n}</h1>\n</body>\n</html>`}),a("Routes")&&(r.routes={"web.php":`<?php\nrequire '../app/Controllers/${n}Controller.php';\n$controller = new ${n}Controller();\n$controller->index();\n?>`});else if("REST"===e)r.app={Controllers:{[`${n}Controller.php`]:`<?php\nnamespace App\\Controllers;\nuse App\\Models\\${n};\n\nclass ${n}Controller {\n    public function index() {\n        echo json_encode(${n}::all());\n    }\n}\n?>`},Models:{[`${n}.php`]:`<?php\nnamespace App\\Models;\nclass ${n} {\n    public static function all() {\n        return []; // Simulazione di una query\n    }\n}\n?>`},Middlewares:{"AuthMiddleware.php":'<?php\nnamespace App\\Middlewares;\nclass AuthMiddleware {\n    public function handle() {\n        echo "Middleware di autenticazione";\n    }\n}\n?>'}},r.routes={"api.php":`<?php\nrequire '../app/Controllers/${n}Controller.php';\nheader('Content-Type: application/json');\n$controller = new ${n}Controller();\n$controller->index();\n?>`};else if("Functional"===e){const e=n.toLowerCase();r.src={[`${e}_controller.php`]:`<?php\nrequire_once '${e}_model.php';\n\nfunction get_all_${e}s() {\n    $data = ${e}_all();\n    echo json_encode($data);\n}\n\nfunction create_${e}($data) {\n    ${e}_save($data);\n    echo "Nuovo ${n} salvato!";\n}\n?>`,[`${e}_model.php`]:`<?php\nfunction ${e}_all() {\n    return []; // Simulazione di una query\n}\n\nfunction ${e}_save($data) {\n    // Simulazione di salvataggio\n    file_put_contents('data.txt', json_encode($data) . PHP_EOL, FILE_APPEND);\n}\n?>`},r.public={"index.php":`<?php\nrequire_once '../src/${e}_controller.php';\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    create_${e}($_POST);\n} else {\n    get_all_${e}s();\n}\n?>`,[`create_${e}.html`]:`<!DOCTYPE html>\n<html>\n<head>\n    <title>Crea ${n}</title>\n</head>\n<body>\n    <h1>Crea un nuovo ${n}</h1>\n    <form method="POST" action="index.php">\n        <label for="name">Nome:</label>\n        <input type="text" id="name" name="name" required>\n        <br>\n        <label for="email">Email:</label>\n        <input type="email" id="email" name="email" required>\n        <br>\n        <button type="submit">Invia</button>\n    </form>\n</body>\n</html>`,[`list_${e}s.html`]:`<!DOCTYPE html>\n<html>\n<head>\n    <title>Lista ${n}s</title>\n</head>\n<body>\n    <h1>Elenco di ${n}s</h1>\n    <ul id="list"></ul>\n\n    <script>\n        fetch('index.php')\n            .then(response => response.json())\n            .then(data => {\n                const list = document.getElementById('list');\n                data.forEach(item => {\n                    const li = document.createElement('li');\n                    li.textContent = JSON.stringify(item);\n                    list.appendChild(li);\n                });\n            });\n    <\/script>\n</body>\n</html>`}}return r.config={"config.php":"<?php\nreturn [\n    'db' => [\n        'host' => 'localhost',\n        'database' => 'app_db',\n        'user' => 'root',\n        'password' => ''\n    ]\n];\n?>"},r["composer.json"]='{\n    "autoload": {\n        "psr-4": {\n            "App\\\\": "app/"\n        }\n    }\n}',r}function p(e){return!0}function c(e,n,t=p){for(const r in n){const a=l.join(e,r);try{if("object"==typeof n[r]){if(o.existsSync(a)&&!o.lstatSync(a).isDirectory()&&!t(a))continue;o.mkdirSync(a,{recursive:!0}),c(a,n[r],t)}else{if(o.existsSync(a)&&!t(a))continue;o.writeFileSync(a,n[r])}}catch(e){throw console.error(`Errore nella creazione di ${a}:`,e),new Error(`Errore nella creazione di ${a}: ${e instanceof Error?e.message:String(e)}`)}}}e.exports=function(e,n,r,a){let s={};try{switch(n){case"mvc-advanced":s=(new(t(969).MVCAdvancedGenerator)).generate(e,r,a);break;case"mvp":s=(new(t(410).MVPGenerator)).generate(e,r,a);break;default:s=d(n,r,a)}}catch(e){console.error("Error loading generator:",e),s=d(n,r,a)}a?.includeDocker&&(s["docker-compose.yml"]=function(e){return`version: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - "8000:80"\n    volumes:\n      - .:/var/www/html\n    depends_on:\n      - db\n    environment:\n      - DB_HOST=db\n      - DB_DATABASE=${e.toLowerCase()}_db\n      - DB_USERNAME=root\n      - DB_PASSWORD=secret\n\n  db:\n    image: mysql:8.0\n    ports:\n      - "3306:3306"\n    environment:\n      MYSQL_ROOT_PASSWORD: secret\n      MYSQL_DATABASE: ${e.toLowerCase()}_db\n    volumes:\n      - db_data:/var/lib/mysql\n\nvolumes:\n  db_data:\n`}(r),s.Dockerfile="FROM php:8.2-apache\n\n# Install dependencies\nRUN apt-get update && apt-get install -y \\\n    git \\\n    curl \\\n    libpng-dev \\\n    libonig-dev \\\n    libxml2-dev \\\n    zip \\\n    unzip\n\n# Clear cache\nRUN apt-get clean && rm -rf /var/lib/apt/lists/*\n\n# Install PHP extensions\nRUN docker-php-ext-install pdo_mysql mbstring exif pcntl bcmath gd\n\n# Get Composer\nCOPY --from=composer:latest /usr/bin/composer /usr/bin/composer\n\n# Set working directory\nWORKDIR /var/www/html\n\n# Copy application files\nCOPY . /var/www/html\n\n# Install dependencies\nRUN composer install --no-interaction --optimize-autoloader\n\n# Enable Apache mod_rewrite\nRUN a2enmod rewrite\n\n# Set permissions\nRUN chown -R www-data:www-data /var/www/html\n\nEXPOSE 80\n",s[".dockerignore"]="vendor/\nnode_modules/\n.git\n.env\n*.log\n.DS_Store\n"),a?.includeGitignore&&(s[".gitignore"]="/vendor/\n/node_modules/\n.env\n.env.local\n.env.*.local\n*.log\n.DS_Store\n.vscode/\n.idea/\ncomposer.lock\npackage-lock.json\n/public/storage\n/storage/*.key\n/database/*.sqlite\n"),c(e,s)}},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")},969:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MVCAdvancedGenerator=void 0,n.MVCAdvancedGenerator=class{generate(e,n,t){const r={};return r.app={Controllers:{[`${n}Controller.php`]:this.getControllerTemplate(n),"BaseController.php":this.getBaseControllerTemplate()},Models:{[`${n}.php`]:this.getModelTemplate(n),"BaseModel.php":this.getBaseModelTemplate()},Views:{[n.toLowerCase()]:{"index.php":this.getIndexViewTemplate(n),"create.php":this.getCreateViewTemplate(n),"edit.php":this.getEditViewTemplate(n),"show.php":this.getShowViewTemplate(n)},layouts:{"app.php":this.getLayoutTemplate()}},Middleware:{"AuthMiddleware.php":this.getAuthMiddlewareTemplate(),"CorsMiddleware.php":this.getCorsMiddlewareTemplate(),"ValidateMiddleware.php":this.getValidateMiddlewareTemplate()},Services:{[`${n}Service.php`]:this.getServiceTemplate(n),"Container.php":this.getContainerTemplate()},Validators:{[`${n}Validator.php`]:this.getValidatorTemplate(n)}},r.config={"app.php":this.getAppConfigTemplate(),"database.php":this.getDatabaseConfigTemplate(),"routes.php":this.getRoutesTemplate(n)},r.database={migrations:{[`${Date.now()}_create_${n.toLowerCase()}s_table.php`]:this.getMigrationTemplate(n)},seeders:{[`${n}Seeder.php`]:this.getSeederTemplate(n)}},r.public={"index.php":this.getPublicIndexTemplate(),assets:{css:{"app.css":this.getCssTemplate()},js:{"app.js":this.getJsTemplate()}}},r.core={"Router.php":this.getRouterTemplate(),"Request.php":this.getRequestTemplate(),"Response.php":this.getResponseTemplate(),"Database.php":this.getDatabaseTemplate()},r.tests={[`${n}ControllerTest.php`]:this.getControllerTestTemplate(n)},r["composer.json"]=this.getComposerTemplate(n),r[".env.example"]=this.getEnvTemplate(),r[".htaccess"]=this.getHtaccessTemplate(),r["README.md"]=this.getReadmeTemplate(n),r}getControllerTemplate(e){return`<?php\n\nnamespace App\\Controllers;\n\nuse App\\Models\\${e};\nuse App\\Services\\${e}Service;\nuse App\\Validators\\${e}Validator;\nuse Core\\Request;\nuse Core\\Response;\n\nclass ${e}Controller extends BaseController\n{\n    private ${e}Service $service;\n    private ${e}Validator $validator;\n\n    public function __construct(${e}Service $service, ${e}Validator $validator)\n    {\n        $this->service = $service;\n        $this->validator = $validator;\n    }\n\n    /**\n     * Display a listing of the resource.\n     */\n    public function index(Request $request): Response\n    {\n        $${e.toLowerCase()}s = $this->service->getAll($request->query());\n        \n        if ($request->expectsJson()) {\n            return $this->json($${e.toLowerCase()}s);\n        }\n        \n        return $this->view('${e.toLowerCase()}/index', [\n            '${e.toLowerCase()}s' => $${e.toLowerCase()}s\n        ]);\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     */\n    public function create(): Response\n    {\n        return $this->view('${e.toLowerCase()}/create');\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     */\n    public function store(Request $request): Response\n    {\n        $data = $request->all();\n        \n        $errors = $this->validator->validate($data);\n        if ($errors) {\n            return $this->json(['errors' => $errors], 422);\n        }\n\n        $${e.toLowerCase()} = $this->service->create($data);\n        \n        if ($request->expectsJson()) {\n            return $this->json($${e.toLowerCase()}, 201);\n        }\n        \n        return $this->redirect('/${e.toLowerCase()}s');\n    }\n\n    /**\n     * Display the specified resource.\n     */\n    public function show(Request $request, int $id): Response\n    {\n        $${e.toLowerCase()} = $this->service->findById($id);\n        \n        if (!$${e.toLowerCase()}) {\n            return $this->json(['error' => '${e} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json($${e.toLowerCase()});\n        }\n        \n        return $this->view('${e.toLowerCase()}/show', [\n            '${e.toLowerCase()}' => $${e.toLowerCase()}\n        ]);\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     */\n    public function edit(int $id): Response\n    {\n        $${e.toLowerCase()} = $this->service->findById($id);\n        \n        if (!$${e.toLowerCase()}) {\n            return $this->redirect('/${e.toLowerCase()}s');\n        }\n        \n        return $this->view('${e.toLowerCase()}/edit', [\n            '${e.toLowerCase()}' => $${e.toLowerCase()}\n        ]);\n    }\n\n    /**\n     * Update the specified resource in storage.\n     */\n    public function update(Request $request, int $id): Response\n    {\n        $data = $request->all();\n        \n        $errors = $this->validator->validate($data, $id);\n        if ($errors) {\n            return $this->json(['errors' => $errors], 422);\n        }\n\n        $${e.toLowerCase()} = $this->service->update($id, $data);\n        \n        if (!$${e.toLowerCase()}) {\n            return $this->json(['error' => '${e} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json($${e.toLowerCase()});\n        }\n        \n        return $this->redirect('/${e.toLowerCase()}s');\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     */\n    public function destroy(Request $request, int $id): Response\n    {\n        $deleted = $this->service->delete($id);\n        \n        if (!$deleted) {\n            return $this->json(['error' => '${e} not found'], 404);\n        }\n        \n        if ($request->expectsJson()) {\n            return $this->json(['message' => '${e} deleted successfully']);\n        }\n        \n        return $this->redirect('/${e.toLowerCase()}s');\n    }\n}\n`}getBaseControllerTemplate(){return"<?php\n\nnamespace App\\Controllers;\n\nuse Core\\Response;\n\nabstract class BaseController\n{\n    protected function view(string $view, array $data = []): Response\n    {\n        extract($data);\n        ob_start();\n        require __DIR__ . '/../Views/' . str_replace('.', '/', $view) . '.php';\n        $content = ob_get_clean();\n        \n        return new Response($content);\n    }\n\n    protected function json($data, int $statusCode = 200): Response\n    {\n        return new Response(\n            json_encode($data),\n            $statusCode,\n            ['Content-Type' => 'application/json']\n        );\n    }\n\n    protected function redirect(string $url, int $statusCode = 302): Response\n    {\n        return new Response('', $statusCode, ['Location' => $url]);\n    }\n}\n"}getModelTemplate(e){return`<?php\n\nnamespace App\\Models;\n\nclass ${e} extends BaseModel\n{\n    protected string $table = '${e.toLowerCase()}s';\n    \n    protected array $fillable = [\n        'name',\n        'email',\n        'status'\n    ];\n\n    protected array $casts = [\n        'id' => 'int',\n        'status' => 'bool',\n        'created_at' => 'datetime',\n        'updated_at' => 'datetime'\n    ];\n\n    // Relationships\n    \n    // Scopes\n    \n    // Accessors & Mutators\n}\n`}getBaseModelTemplate(){return'<?php\n\nnamespace App\\Models;\n\nuse Core\\Database;\nuse PDO;\n\nabstract class BaseModel\n{\n    protected string $table;\n    protected array $fillable = [];\n    protected array $casts = [];\n    protected Database $db;\n\n    public function __construct()\n    {\n        $this->db = Database::getInstance();\n    }\n\n    public function all(): array\n    {\n        $stmt = $this->db->prepare("SELECT * FROM {$this->table}");\n        $stmt->execute();\n        return $stmt->fetchAll(PDO::FETCH_CLASS, static::class);\n    }\n\n    public function find(int $id): ?self\n    {\n        $stmt = $this->db->prepare("SELECT * FROM {$this->table} WHERE id = ?");\n        $stmt->execute([$id]);\n        $result = $stmt->fetchObject(static::class);\n        return $result ?: null;\n    }\n\n    public function create(array $data): self\n    {\n        $data = $this->filterFillable($data);\n        $columns = implode(\', \', array_keys($data));\n        $placeholders = implode(\', \', array_fill(0, count($data), \'?\'));\n        \n        $sql = "INSERT INTO {$this->table} ($columns) VALUES ($placeholders)";\n        $stmt = $this->db->prepare($sql);\n        $stmt->execute(array_values($data));\n        \n        return $this->find($this->db->lastInsertId());\n    }\n\n    public function update(int $id, array $data): bool\n    {\n        $data = $this->filterFillable($data);\n        $set = implode(\', \', array_map(fn($col) => "$col = ?", array_keys($data)));\n        \n        $sql = "UPDATE {$this->table} SET $set WHERE id = ?";\n        $stmt = $this->db->prepare($sql);\n        return $stmt->execute([...array_values($data), $id]);\n    }\n\n    public function delete(int $id): bool\n    {\n        $stmt = $this->db->prepare("DELETE FROM {$this->table} WHERE id = ?");\n        return $stmt->execute([$id]);\n    }\n\n    protected function filterFillable(array $data): array\n    {\n        return array_filter(\n            $data,\n            fn($key) => in_array($key, $this->fillable),\n            ARRAY_FILTER_USE_KEY\n        );\n    }\n}\n'}getServiceTemplate(e){return`<?php\n\nnamespace App\\Services;\n\nuse App\\Models\\${e};\n\nclass ${e}Service\n{\n    private ${e} $model;\n\n    public function __construct(${e} $model)\n    {\n        $this->model = $model;\n    }\n\n    public function getAll(array $filters = []): array\n    {\n        // Apply filters, pagination, sorting\n        return $this->model->all();\n    }\n\n    public function findById(int $id): ?${e}\n    {\n        return $this->model->find($id);\n    }\n\n    public function create(array $data): ${e}\n    {\n        // Business logic before creating\n        return $this->model->create($data);\n    }\n\n    public function update(int $id, array $data): ?${e}\n    {\n        $${e.toLowerCase()} = $this->findById($id);\n        if (!$${e.toLowerCase()}) {\n            return null;\n        }\n\n        $this->model->update($id, $data);\n        return $this->findById($id);\n    }\n\n    public function delete(int $id): bool\n    {\n        return $this->model->delete($id);\n    }\n}\n`}getValidatorTemplate(e){return`<?php\n\nnamespace App\\Validators;\n\nclass ${e}Validator\n{\n    public function validate(array $data, ?int $id = null): array\n    {\n        $errors = [];\n\n        // Name validation\n        if (empty($data['name'])) {\n            $errors['name'] = 'Name is required';\n        } elseif (strlen($data['name']) < 3) {\n            $errors['name'] = 'Name must be at least 3 characters';\n        }\n\n        // Email validation\n        if (empty($data['email'])) {\n            $errors['email'] = 'Email is required';\n        } elseif (!filter_var($data['email'], FILTER_VALIDATE_EMAIL)) {\n            $errors['email'] = 'Email must be valid';\n        }\n\n        return $errors;\n    }\n}\n`}getAuthMiddlewareTemplate(){return"<?php\n\nnamespace App\\Middleware;\n\nuse Core\\Request;\nuse Core\\Response;\n\nclass AuthMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        // Check if user is authenticated\n        if (!isset($_SESSION['user_id'])) {\n            if ($request->expectsJson()) {\n                return new Response(\n                    json_encode(['error' => 'Unauthorized']),\n                    401,\n                    ['Content-Type' => 'application/json']\n                );\n            }\n            return new Response('', 302, ['Location' => '/login']);\n        }\n\n        return $next($request);\n    }\n}\n"}getCorsMiddlewareTemplate(){return"<?php\n\nnamespace App\\Middleware;\n\nuse Core\\Request;\nuse Core\\Response;\n\nclass CorsMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        $response = $next($request);\n        \n        $response->headers['Access-Control-Allow-Origin'] = '*';\n        $response->headers['Access-Control-Allow-Methods'] = 'GET, POST, PUT, DELETE, OPTIONS';\n        $response->headers['Access-Control-Allow-Headers'] = 'Content-Type, Authorization';\n\n        return $response;\n    }\n}\n"}getValidateMiddlewareTemplate(){return"<?php\n\nnamespace App\\Middleware;\n\nuse Core\\Request;\nuse Core\\Response;\n\nclass ValidateMiddleware\n{\n    public function handle(Request $request, callable $next): Response\n    {\n        // CSRF token validation\n        if (in_array($request->method(), ['POST', 'PUT', 'DELETE'])) {\n            $token = $request->input('csrf_token') ?? $request->header('X-CSRF-TOKEN');\n            if (!$this->validateCsrfToken($token)) {\n                return new Response(\n                    json_encode(['error' => 'Invalid CSRF token']),\n                    403,\n                    ['Content-Type' => 'application/json']\n                );\n            }\n        }\n\n        return $next($request);\n    }\n\n    private function validateCsrfToken(?string $token): bool\n    {\n        return isset($_SESSION['csrf_token']) && hash_equals($_SESSION['csrf_token'], $token ?? '');\n    }\n}\n"}getContainerTemplate(){return"<?php\n\nnamespace App\\Services;\n\nclass Container\n{\n    private array $bindings = [];\n    private array $instances = [];\n\n    public function bind(string $abstract, callable $concrete): void\n    {\n        $this->bindings[$abstract] = $concrete;\n    }\n\n    public function singleton(string $abstract, callable $concrete): void\n    {\n        $this->bind($abstract, $concrete);\n        $this->instances[$abstract] = null;\n    }\n\n    public function make(string $abstract)\n    {\n        if (isset($this->instances[$abstract]) && $this->instances[$abstract] !== null) {\n            return $this->instances[$abstract];\n        }\n\n        if (isset($this->bindings[$abstract])) {\n            $instance = $this->bindings[$abstract]($this);\n            \n            if (array_key_exists($abstract, $this->instances)) {\n                $this->instances[$abstract] = $instance;\n            }\n            \n            return $instance;\n        }\n\n        return new $abstract();\n    }\n}\n"}getIndexViewTemplate(e){const n=e.toLowerCase();return`<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class="container">\n    <div class="header">\n        <h1>${e} List</h1>\n        <a href="/${n}s/create" class="btn btn-primary">Create New ${e}</a>\n    </div>\n\n    <table class="table">\n        <thead>\n            <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Status</th>\n                <th>Actions</th>\n            </tr>\n        </thead>\n        <tbody>\n            <?php foreach ($${n}s as $${n}): ?>\n            <tr>\n                <td><?= htmlspecialchars($${n}->id) ?></td>\n                <td><?= htmlspecialchars($${n}->name) ?></td>\n                <td><?= htmlspecialchars($${n}->email) ?></td>\n                <td><?= $${n}->status ? 'Active' : 'Inactive' ?></td>\n                <td>\n                    <a href="/${n}s/<?= $${n}->id ?>" class="btn btn-sm">View</a>\n                    <a href="/${n}s/<?= $${n}->id ?>/edit" class="btn btn-sm">Edit</a>\n                    <form method="POST" action="/${n}s/<?= $${n}->id ?>" style="display:inline;">\n                        <input type="hidden" name="_method" value="DELETE">\n                        <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure?')">Delete</button>\n                    </form>\n                </td>\n            </tr>\n            <?php endforeach; ?>\n        </tbody>\n    </table>\n</div>\n`}getCreateViewTemplate(e){const n=e.toLowerCase();return`<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class="container">\n    <h1>Create ${e}</h1>\n\n    <form method="POST" action="/${n}s" class="form">\n        <div class="form-group">\n            <label for="name">Name</label>\n            <input type="text" id="name" name="name" required>\n        </div>\n\n        <div class="form-group">\n            <label for="email">Email</label>\n            <input type="email" id="email" name="email" required>\n        </div>\n\n        <div class="form-group">\n            <label for="status">\n                <input type="checkbox" id="status" name="status" value="1">\n                Active\n            </label>\n        </div>\n\n        <div class="form-actions">\n            <button type="submit" class="btn btn-primary">Create</button>\n            <a href="/${n}s" class="btn">Cancel</a>\n        </div>\n    </form>\n</div>\n`}getEditViewTemplate(e){const n=e.toLowerCase();return`<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class="container">\n    <h1>Edit ${e}</h1>\n\n    <form method="POST" action="/${n}s/<?= $${n}->id ?>" class="form">\n        <input type="hidden" name="_method" value="PUT">\n        \n        <div class="form-group">\n            <label for="name">Name</label>\n            <input type="text" id="name" name="name" value="<?= htmlspecialchars($${n}->name) ?>" required>\n        </div>\n\n        <div class="form-group">\n            <label for="email">Email</label>\n            <input type="email" id="email" name="email" value="<?= htmlspecialchars($${n}->email) ?>" required>\n        </div>\n\n        <div class="form-group">\n            <label for="status">\n                <input type="checkbox" id="status" name="status" value="1" <?= $${n}->status ? 'checked' : '' ?>>\n                Active\n            </label>\n        </div>\n\n        <div class="form-actions">\n            <button type="submit" class="btn btn-primary">Update</button>\n            <a href="/${n}s" class="btn">Cancel</a>\n        </div>\n    </form>\n</div>\n`}getShowViewTemplate(e){const n=e.toLowerCase();return`<?php include __DIR__ . '/../layouts/app.php'; ?>\n\n<div class="container">\n    <h1>${e} Details</h1>\n\n    <div class="card">\n        <div class="card-row">\n            <strong>ID:</strong>\n            <span><?= htmlspecialchars($${n}->id) ?></span>\n        </div>\n        <div class="card-row">\n            <strong>Name:</strong>\n            <span><?= htmlspecialchars($${n}->name) ?></span>\n        </div>\n        <div class="card-row">\n            <strong>Email:</strong>\n            <span><?= htmlspecialchars($${n}->email) ?></span>\n        </div>\n        <div class="card-row">\n            <strong>Status:</strong>\n            <span><?= $${n}->status ? 'Active' : 'Inactive' ?></span>\n        </div>\n        <div class="card-row">\n            <strong>Created:</strong>\n            <span><?= htmlspecialchars($${n}->created_at) ?></span>\n        </div>\n    </div>\n\n    <div class="form-actions">\n        <a href="/${n}s/<?= $${n}->id ?>/edit" class="btn btn-primary">Edit</a>\n        <a href="/${n}s" class="btn">Back to List</a>\n    </div>\n</div>\n`}getLayoutTemplate(){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>PHP MVC Application</title>\n    <link rel="stylesheet" href="/assets/css/app.css">\n</head>\n<body>\n    <nav class="navbar">\n        <div class="container">\n            <a href="/" class="navbar-brand">PHP MVC App</a>\n            <ul class="navbar-nav">\n                <li><a href="/">Home</a></li>\n                <li><a href="/about">About</a></li>\n            </ul>\n        </div>\n    </nav>\n\n    <main>\n        <?php echo $content ?? \'\'; ?>\n    </main>\n\n    <footer>\n        <div class="container">\n            <p>&copy; <?= date(\'Y\') ?> PHP MVC Application. All rights reserved.</p>\n        </div>\n    </footer>\n\n    <script src="/assets/js/app.js"><\/script>\n</body>\n</html>\n'}getAppConfigTemplate(){return"<?php\n\nreturn [\n    'name' => getenv('APP_NAME') ?: 'PHP MVC App',\n    'env' => getenv('APP_ENV') ?: 'development',\n    'debug' => getenv('APP_DEBUG') === 'true',\n    'url' => getenv('APP_URL') ?: 'http://localhost',\n    'timezone' => 'UTC',\n];\n"}getDatabaseConfigTemplate(){return"<?php\n\nreturn [\n    'default' => getenv('DB_CONNECTION') ?: 'mysql',\n    \n    'connections' => [\n        'mysql' => [\n            'driver' => 'mysql',\n            'host' => getenv('DB_HOST') ?: 'localhost',\n            'port' => getenv('DB_PORT') ?: '3306',\n            'database' => getenv('DB_DATABASE') ?: 'app_db',\n            'username' => getenv('DB_USERNAME') ?: 'root',\n            'password' => getenv('DB_PASSWORD') ?: '',\n            'charset' => 'utf8mb4',\n            'collation' => 'utf8mb4_unicode_ci',\n        ],\n    ],\n];\n"}getRoutesTemplate(e){const n=e.toLowerCase();return`<?php\n\nuse Core\\Router;\nuse App\\Controllers\\${e}Controller;\nuse App\\Middleware\\AuthMiddleware;\nuse App\\Middleware\\CorsMiddleware;\n\n$router = new Router();\n\n// Apply global middleware\n$router->middleware(new CorsMiddleware());\n\n// ${e} routes\n$router->get('/${n}s', [${e}Controller::class, 'index']);\n$router->get('/${n}s/create', [${e}Controller::class, 'create']);\n$router->post('/${n}s', [${e}Controller::class, 'store']);\n$router->get('/${n}s/{id}', [${e}Controller::class, 'show']);\n$router->get('/${n}s/{id}/edit', [${e}Controller::class, 'edit']);\n$router->put('/${n}s/{id}', [${e}Controller::class, 'update']);\n$router->delete('/${n}s/{id}', [${e}Controller::class, 'destroy']);\n\n// API routes with authentication\n$router->group(['prefix' => 'api', 'middleware' => AuthMiddleware::class], function($router) {\n    $router->get('/${n}s', [${e}Controller::class, 'index']);\n    $router->post('/${n}s', [${e}Controller::class, 'store']);\n    $router->get('/${n}s/{id}', [${e}Controller::class, 'show']);\n    $router->put('/${n}s/{id}', [${e}Controller::class, 'update']);\n    $router->delete('/${n}s/{id}', [${e}Controller::class, 'destroy']);\n});\n\nreturn $router;\n`}getMigrationTemplate(e){const n=`${e.toLowerCase()}s`;return`<?php\n\nuse Core\\Database;\n\nclass Create${e}sTable\n{\n    public function up(): void\n    {\n        $db = Database::getInstance();\n        $sql = "\n            CREATE TABLE IF NOT EXISTS ${n} (\n                id INT AUTO_INCREMENT PRIMARY KEY,\n                name VARCHAR(255) NOT NULL,\n                email VARCHAR(255) NOT NULL UNIQUE,\n                status BOOLEAN DEFAULT true,\n                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n                updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n            ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n        ";\n        $db->exec($sql);\n    }\n\n    public function down(): void\n    {\n        $db = Database::getInstance();\n        $db->exec("DROP TABLE IF EXISTS ${n}");\n    }\n}\n\n// Run migration\n$migration = new Create${e}sTable();\n$migration->up();\necho "${e}s table created successfully!\\n";\n`}getSeederTemplate(e){return`<?php\n\nuse App\\Models\\${e};\n\nclass ${e}Seeder\n{\n    public function run(): void\n    {\n        $model = new ${e}();\n        \n        $data = [\n            ['name' => 'John Doe', 'email' => 'john@example.com', 'status' => true],\n            ['name' => 'Jane Smith', 'email' => 'jane@example.com', 'status' => true],\n            ['name' => 'Bob Wilson', 'email' => 'bob@example.com', 'status' => false],\n        ];\n\n        foreach ($data as $item) {\n            $model->create($item);\n        }\n        \n        echo "${e} seeded successfully!\\n";\n    }\n}\n\n// Run seeder\n$seeder = new ${e}Seeder();\n$seeder->run();\n`}getPublicIndexTemplate(){return"<?php\n\nsession_start();\n\nrequire_once __DIR__ . '/../vendor/autoload.php';\n\n// Load environment variables\nif (file_exists(__DIR__ . '/../.env')) {\n    $lines = file(__DIR__ . '/../.env', FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);\n    foreach ($lines as $line) {\n        if (strpos(trim($line), '#') === 0) continue;\n        list($name, $value) = explode('=', $line, 2);\n        putenv(sprintf('%s=%s', trim($name), trim($value)));\n    }\n}\n\n// Load configuration\n$appConfig = require __DIR__ . '/../config/app.php';\n\n// Error reporting\nif ($appConfig['debug']) {\n    error_reporting(E_ALL);\n    ini_set('display_errors', '1');\n} else {\n    error_reporting(0);\n    ini_set('display_errors', '0');\n}\n\n// Initialize router\n$router = require __DIR__ . '/../config/routes.php';\n\n// Dispatch request\nuse Core\\Request;\n\n$request = Request::createFromGlobals();\n$response = $router->dispatch($request);\n$response->send();\n"}getCssTemplate(){return'* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;\n    line-height: 1.6;\n    color: #333;\n    background: #f5f5f5;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.navbar {\n    background: #2c3e50;\n    color: white;\n    padding: 1rem 0;\n    margin-bottom: 2rem;\n}\n\n.navbar-brand {\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: white;\n    text-decoration: none;\n}\n\n.navbar-nav {\n    list-style: none;\n    display: flex;\n    gap: 1rem;\n}\n\n.navbar-nav a {\n    color: white;\n    text-decoration: none;\n}\n\n.btn {\n    display: inline-block;\n    padding: 0.5rem 1rem;\n    background: #3498db;\n    color: white;\n    text-decoration: none;\n    border-radius: 4px;\n    border: none;\n    cursor: pointer;\n}\n\n.btn-primary {\n    background: #2ecc71;\n}\n\n.btn-danger {\n    background: #e74c3c;\n}\n\n.table {\n    width: 100%;\n    background: white;\n    border-collapse: collapse;\n    margin: 1rem 0;\n}\n\n.table th,\n.table td {\n    padding: 0.75rem;\n    text-align: left;\n    border-bottom: 1px solid #ddd;\n}\n\n.table th {\n    background: #f8f9fa;\n    font-weight: bold;\n}\n\n.form {\n    background: white;\n    padding: 2rem;\n    border-radius: 8px;\n    max-width: 600px;\n}\n\n.form-group {\n    margin-bottom: 1rem;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n}\n\n.form-group input[type="text"],\n.form-group input[type="email"] {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n}\n\n.form-actions {\n    margin-top: 1.5rem;\n    display: flex;\n    gap: 0.5rem;\n}\n\n.card {\n    background: white;\n    padding: 1.5rem;\n    border-radius: 8px;\n    margin: 1rem 0;\n}\n\n.card-row {\n    display: flex;\n    padding: 0.5rem 0;\n    border-bottom: 1px solid #f0f0f0;\n}\n\n.card-row strong {\n    width: 150px;\n}\n\nfooter {\n    background: #2c3e50;\n    color: white;\n    text-align: center;\n    padding: 2rem 0;\n    margin-top: 3rem;\n}\n'}getJsTemplate(){return"// Confirmation dialogs\ndocument.querySelectorAll('form[data-confirm]').forEach(form => {\n    form.addEventListener('submit', (e) => {\n        if (!confirm(form.dataset.confirm)) {\n            e.preventDefault();\n        }\n    });\n});\n\n// Flash messages auto-hide\nsetTimeout(() => {\n    document.querySelectorAll('.flash-message').forEach(msg => {\n        msg.style.opacity = '0';\n        setTimeout(() => msg.remove(), 300);\n    });\n}, 5000);\n\n// AJAX form submissions\ndocument.querySelectorAll('form[data-ajax]').forEach(form => {\n    form.addEventListener('submit', async (e) => {\n        e.preventDefault();\n        \n        const formData = new FormData(form);\n        const response = await fetch(form.action, {\n            method: form.method,\n            body: formData,\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest'\n            }\n        });\n        \n        const data = await response.json();\n        console.log('Response:', data);\n    });\n});\n"}getRouterTemplate(){return"<?php\n\nnamespace Core;\n\nclass Router\n{\n    private array $routes = [];\n    private array $middleware = [];\n    private array $groupOptions = [];\n\n    public function middleware($middleware): self\n    {\n        $this->middleware[] = $middleware;\n        return $this;\n    }\n\n    public function group(array $options, callable $callback): void\n    {\n        $previousGroup = $this->groupOptions;\n        $this->groupOptions = array_merge($this->groupOptions, $options);\n        \n        $callback($this);\n        \n        $this->groupOptions = $previousGroup;\n    }\n\n    public function get(string $uri, $action): void\n    {\n        $this->addRoute('GET', $uri, $action);\n    }\n\n    public function post(string $uri, $action): void\n    {\n        $this->addRoute('POST', $uri, $action);\n    }\n\n    public function put(string $uri, $action): void\n    {\n        $this->addRoute('PUT', $uri, $action);\n    }\n\n    public function delete(string $uri, $action): void\n    {\n        $this->addRoute('DELETE', $uri, $action);\n    }\n\n    private function addRoute(string $method, string $uri, $action): void\n    {\n        $prefix = $this->groupOptions['prefix'] ?? '';\n        $middleware = $this->groupOptions['middleware'] ?? null;\n        \n        $uri = '/' . trim($prefix . '/' . trim($uri, '/'), '/');\n        \n        $this->routes[] = [\n            'method' => $method,\n            'uri' => $uri,\n            'action' => $action,\n            'middleware' => $middleware\n        ];\n    }\n\n    public function dispatch(Request $request): Response\n    {\n        $method = $request->method();\n        $uri = parse_url($request->uri(), PHP_URL_PATH);\n\n        foreach ($this->routes as $route) {\n            if ($route['method'] !== $method) {\n                continue;\n            }\n\n            $pattern = preg_replace('/\\{([a-zA-Z]+)\\}/', '(?P<$1>[^/]+)', $route['uri']);\n            $pattern = '#^' . $pattern . '$#';\n\n            if (preg_match($pattern, $uri, $matches)) {\n                $params = array_filter($matches, 'is_string', ARRAY_FILTER_USE_KEY);\n                \n                $handler = function($request) use ($route, $params) {\n                    return $this->callAction($route['action'], $request, $params);\n                };\n\n                // Apply route-specific middleware\n                if ($route['middleware']) {\n                    $middleware = new $route['middleware']();\n                    $handler = fn($req) => $middleware->handle($req, fn($r) => $this->callAction($route['action'], $r, $params));\n                }\n\n                // Apply global middleware\n                foreach (array_reverse($this->middleware) as $mw) {\n                    $prevHandler = $handler;\n                    $handler = fn($req) => $mw->handle($req, $prevHandler);\n                }\n\n                return $handler($request);\n            }\n        }\n\n        return new Response('Not Found', 404);\n    }\n\n    private function callAction($action, Request $request, array $params): Response\n    {\n        if (is_array($action)) {\n            [$controller, $method] = $action;\n            $instance = new $controller();\n            return $instance->$method($request, ...array_values($params));\n        }\n\n        if (is_callable($action)) {\n            return $action($request, ...array_values($params));\n        }\n\n        return new Response('Invalid action', 500);\n    }\n}\n"}getRequestTemplate(){return"<?php\n\nnamespace Core;\n\nclass Request\n{\n    private string $method;\n    private string $uri;\n    private array $query;\n    private array $post;\n    private array $files;\n    private array $server;\n    private array $headers;\n\n    public function __construct(\n        string $method,\n        string $uri,\n        array $query = [],\n        array $post = [],\n        array $files = [],\n        array $server = [],\n        array $headers = []\n    ) {\n        $this->method = strtoupper($method);\n        $this->uri = $uri;\n        $this->query = $query;\n        $this->post = $post;\n        $this->files = $files;\n        $this->server = $server;\n        $this->headers = $headers;\n    }\n\n    public static function createFromGlobals(): self\n    {\n        $headers = [];\n        foreach ($_SERVER as $key => $value) {\n            if (strpos($key, 'HTTP_') === 0) {\n                $headers[str_replace('HTTP_', '', $key)] = $value;\n            }\n        }\n\n        return new self(\n            $_SERVER['REQUEST_METHOD'] ?? 'GET',\n            $_SERVER['REQUEST_URI'] ?? '/',\n            $_GET,\n            $_POST,\n            $_FILES,\n            $_SERVER,\n            $headers\n        );\n    }\n\n    public function method(): string\n    {\n        return $this->post['_method'] ?? $this->method;\n    }\n\n    public function uri(): string\n    {\n        return $this->uri;\n    }\n\n    public function query(?string $key = null, $default = null)\n    {\n        if ($key === null) {\n            return $this->query;\n        }\n        return $this->query[$key] ?? $default;\n    }\n\n    public function input(?string $key = null, $default = null)\n    {\n        if ($key === null) {\n            return array_merge($this->query, $this->post);\n        }\n        return $this->post[$key] ?? $this->query[$key] ?? $default;\n    }\n\n    public function all(): array\n    {\n        return array_merge($this->query, $this->post);\n    }\n\n    public function header(string $key, $default = null)\n    {\n        return $this->headers[strtoupper(str_replace('-', '_', $key))] ?? $default;\n    }\n\n    public function expectsJson(): bool\n    {\n        return strpos($this->header('Accept', ''), 'application/json') !== false ||\n               strpos($this->header('Content-Type', ''), 'application/json') !== false;\n    }\n}\n"}getResponseTemplate(){return"<?php\n\nnamespace Core;\n\nclass Response\n{\n    public string $content;\n    public int $statusCode;\n    public array $headers;\n\n    public function __construct(string $content = '', int $statusCode = 200, array $headers = [])\n    {\n        $this->content = $content;\n        $this->statusCode = $statusCode;\n        $this->headers = $headers;\n    }\n\n    public function send(): void\n    {\n        http_response_code($this->statusCode);\n        \n        foreach ($this->headers as $name => $value) {\n            header(\"$name: $value\");\n        }\n        \n        echo $this->content;\n    }\n}\n"}getDatabaseTemplate(){return"<?php\n\nnamespace Core;\n\nuse PDO;\nuse PDOException;\n\nclass Database extends PDO\n{\n    private static ?Database $instance = null;\n\n    private function __construct()\n    {\n        $config = require __DIR__ . '/../config/database.php';\n        $connection = $config['connections'][$config['default']];\n\n        $dsn = sprintf(\n            '%s:host=%s;port=%s;dbname=%s;charset=%s',\n            $connection['driver'],\n            $connection['host'],\n            $connection['port'],\n            $connection['database'],\n            $connection['charset']\n        );\n\n        try {\n            parent::__construct(\n                $dsn,\n                $connection['username'],\n                $connection['password'],\n                [\n                    PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,\n                    PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n                    PDO::ATTR_EMULATE_PREPARES => false,\n                ]\n            );\n        } catch (PDOException $e) {\n            die('Database connection failed: ' . $e->getMessage());\n        }\n    }\n\n    public static function getInstance(): Database\n    {\n        if (self::$instance === null) {\n            self::$instance = new self();\n        }\n        return self::$instance;\n    }\n\n    private function __clone() {}\n    public function __wakeup() {}\n}\n"}getControllerTestTemplate(e){return`<?php\n\nuse PHPUnit\\Framework\\TestCase;\nuse App\\Controllers\\${e}Controller;\n\nclass ${e}ControllerTest extends TestCase\n{\n    public function testIndex()\n    {\n        // TODO: Implement test\n        $this->assertTrue(true);\n    }\n\n    public function testStore()\n    {\n        // TODO: Implement test\n        $this->assertTrue(true);\n    }\n}\n`}getComposerTemplate(e){return`{\n    "name": "app/mvc-advanced",\n    "description": "Modern PHP MVC Application for ${e}",\n    "type": "project",\n    "require": {\n        "php": "^8.0"\n    },\n    "require-dev": {\n        "phpunit/phpunit": "^9.0"\n    },\n    "autoload": {\n        "psr-4": {\n            "App\\\\": "app/",\n            "Core\\\\": "core/"\n        }\n    },\n    "autoload-dev": {\n        "psr-4": {\n            "Tests\\\\": "tests/"\n        }\n    },\n    "scripts": {\n        "test": "phpunit",\n        "migrate": "php database/migrate.php",\n        "seed": "php database/seed.php"\n    }\n}\n`}getEnvTemplate(){return'APP_NAME="PHP MVC App"\nAPP_ENV=development\nAPP_DEBUG=true\nAPP_URL=http://localhost\n\nDB_CONNECTION=mysql\nDB_HOST=localhost\nDB_PORT=3306\nDB_DATABASE=app_db\nDB_USERNAME=root\nDB_PASSWORD=\n\nSESSION_LIFETIME=120\nSESSION_DRIVER=file\n'}getHtaccessTemplate(){return'<IfModule mod_rewrite.c>\n    RewriteEngine On\n    RewriteBase /\n    \n    # Redirect to public directory\n    RewriteCond %{REQUEST_URI} !^/public/\n    RewriteRule ^(.*)$ /public/$1 [L]\n    \n    # Handle front controller\n    RewriteCond %{REQUEST_FILENAME} !-f\n    RewriteCond %{REQUEST_FILENAME} !-d\n    RewriteRule ^(.*)$ /public/index.php [QSA,L]\n</IfModule>\n\n# Disable directory browsing\nOptions -Indexes\n\n# Security headers\n<IfModule mod_headers.c>\n    Header set X-Content-Type-Options "nosniff"\n    Header set X-Frame-Options "SAMEORIGIN"\n    Header set X-XSS-Protection "1; mode=block"\n</IfModule>\n'}getReadmeTemplate(e){return`# PHP MVC Advanced Application\n\nModern PHP MVC application with ${e} CRUD functionality.\n\n## Features\n\n- üèóÔ∏è **MVC Architecture** - Clean separation of concerns\n- üõ£Ô∏è **Routing** - Powerful routing with middleware support\n- üíâ **Dependency Injection** - Service container for loose coupling\n- üóÉÔ∏è **Database** - PDO-based database layer with migrations\n- ‚úÖ **Validation** - Input validation system\n- üé® **Views** - Template system with layouts\n- üîí **Security** - CSRF protection, password hashing\n- üì¶ **PSR-4 Autoloading** - Composer autoloading\n\n## Installation\n\n1. Clone the repository\n2. Install dependencies:\n   \`\`\`bash\n   composer install\n   \`\`\`\n\n3. Copy environment file:\n   \`\`\`bash\n   cp .env.example .env\n   \`\`\`\n\n4. Configure your database in \`.env\`\n\n5. Run migrations:\n   \`\`\`bash\n   composer migrate\n   \`\`\`\n\n6. Seed database (optional):\n   \`\`\`bash\n   composer seed\n   \`\`\`\n\n7. Start development server:\n   \`\`\`bash\n   php -S localhost:8000 -t public\n   \`\`\`\n\n## Usage\n\nVisit \`http://localhost:8000\` in your browser.\n\n### API Endpoints\n\n- \`GET /${e.toLowerCase()}s\` - List all ${e.toLowerCase()}s\n- \`GET /${e.toLowerCase()}s/{id}\` - Get single ${e.toLowerCase()}\n- \`POST /${e.toLowerCase()}s\` - Create new ${e.toLowerCase()}\n- \`PUT /${e.toLowerCase()}s/{id}\` - Update ${e.toLowerCase()}\n- \`DELETE /${e.toLowerCase()}s/{id}\` - Delete ${e.toLowerCase()}\n\n## Project Structure\n\n\`\`\`\napp/\n‚îú‚îÄ‚îÄ Controllers/       # Application controllers\n‚îú‚îÄ‚îÄ Models/           # Data models\n‚îú‚îÄ‚îÄ Views/            # View templates\n‚îú‚îÄ‚îÄ Middleware/       # HTTP middleware\n‚îú‚îÄ‚îÄ Services/         # Business logic\n‚îî‚îÄ‚îÄ Validators/       # Input validation\n\nconfig/               # Configuration files\ncore/                 # Core framework files\ndatabase/             \n‚îú‚îÄ‚îÄ migrations/       # Database migrations\n‚îî‚îÄ‚îÄ seeders/          # Database seeders\npublic/               # Public web root\ntests/                # Unit tests\n\`\`\`\n\n## Testing\n\nRun tests with:\n\`\`\`bash\ncomposer test\n\`\`\`\n\n## License\n\nMIT License\n`}}}},n={},t=function t(r){var a=n[r];if(void 0!==a)return a.exports;var s=n[r]={exports:{}};return e[r].call(s.exports,s,s.exports,t),s.exports}(265);module.exports=t})();